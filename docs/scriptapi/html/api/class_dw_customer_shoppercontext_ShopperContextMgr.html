<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Class ShopperContextMgr</title>
        <link rel="stylesheet" type="text/css" href="styles/javadoc.css" title="Style">
        <script src="js/dwapi.js" type="text/javascript"></script>
    </head>
    <body onload="openFrameSet();">
        <div class="banner">
            <div class="bannerItem">
                <a href="overview.html">
	      			Overview
	      		</a>
            </div>
            <div class="bannerItem">
                <a href="apiVersioning.html">
      					API Versioning
      				</a>
            </div>
            <div class="bannerItem">
                <a href="apiDeprecated.html">
	      			Deprecated
	      		</a>
            </div>
            <div class="clear"></div>
        </div>
        <div id="class_dw.customer.shoppercontext.ShopperContextMgr">
            <a name="dw.customer.shoppercontext.ShopperContextMgr"></a>
            <div class="packageName">dw.customer.shoppercontext</div>
            <div class="className
					">	
        	
				Class ShopperContextMgr</div>
            <div class="hierarchy">
                <div>
                    <a href="class_TopLevel_Object.html">Object</a>
                </div>
                <div style="position:relative;left:3%;">
                    <img src="images/inherit.gif">dw.customer.shoppercontext.ShopperContextMgr
                </div>
            </div>
            <div class="classSummary">
                <div class="classSummaryDetail">
                    <div class="description"><p>
 Provides static helper methods for managing Shopper Context.
 </p>
 <p>
 Shopper Context is used to personalize shopper experiences with context values such as custom session attributes,
 assignment qualifiers, geolocation, effective datetime, source code and more. When Shopper Context is set for a
 shopper, it can activate promotions or price books assigned to customer groups, source codes, or stores (via
 assignments) in the subsequent requests, not the current request.
 </p>
 <p>
 Shopper Context is used to personalize the shopper experience in case of Composable/Headless or Hybrid storefront
 implementations that use Shopper Login and API Access Service (SLAS).
 </p>
 <p>
 NOTE: This script API is not intended to be used for standard server-side storefront implementations. Only for
 Composable/Headless or Hybrid storefront implementations.
 </p>
 <p>
 Unlike <a href="class_dw_customer_CustomerContextMgr.html">CustomerContextMgr</a> which is used to set just Effective Time for which the customer is
 shopping at, Shopper Context API provides a way to set many types of contexts such as custom session attributes,
 assignment qualifiers, geolocation, effective datetime, source code etc.
 </p>
 <p>
 The following feature toggles and site preferences must be enabled in order to use this script API:
 <ul>
 <li>Enable Shopper Context Feature</li>
 <li>Hybrid Auth Settings' site preference - only in case of Hybrid storefront implementations</li>
 </ul>
 </p>
 <p>
 For more details on Shopper Context please refer to: <a href="https://developer.salesforce.com/docs/commerce/commerce-api/references/shopper-context?meta=Summary">Shopper Context
 API Overview</a>
 </p>
 <p>
 For more details on Hybrid Authentication for Hybrid storefronts please refer to:
 <a href="https://developer.salesforce.com/docs/commerce/commerce-api/guide/hybrid-auth.html">Hybrid
 Authentication</a>
 </p>
 <p>
 <a href="class_dw_customer_shoppercontext_ShopperContextMgr.html">ShopperContextMgr</a> is used to create, access and delete Shopper Context.
 <ul>
 <li>To add Shopper Context, use methods <a href="class_dw_customer_shoppercontext_ShopperContextMgr.html#dw_customer_shoppercontext_ShopperContextMgr_setShopperContext_ShopperContext_Boolean_DetailAnchor">setShopperContext(ShopperContext, Boolean)</a>.
 <li>To access Shopper Context, use method <a href="class_dw_customer_shoppercontext_ShopperContextMgr.html#dw_customer_shoppercontext_ShopperContextMgr_getShopperContext_DetailAnchor">getShopperContext()</a>.
 <li>To delete Shopper Context, use methods <a href="class_dw_customer_shoppercontext_ShopperContextMgr.html#dw_customer_shoppercontext_ShopperContextMgr_removeShopperContext_DetailAnchor">removeShopperContext()</a>.
 <li>To fetch Geolocation based on clientIP already set in Shopper Context, use method <a href="class_dw_customer_shoppercontext_ShopperContextMgr.html#dw_customer_shoppercontext_ShopperContextMgr_getGeolocation_DetailAnchor">getGeolocation()</a>
 </ul>
 </p></div>
                    <div class="subclasses"></div>
                </div>
            </div>
            <!--End of class div-->
            <div class="section">
                <div class="header">Properties</div>
                <div class="summaryItem">
                    <span><a name="_DetailAnchor"></a>geolocation
						&nbsp;:&nbsp;
						
					    
					    <a href="class_dw_util_Geolocation.html"><span class="">Geolocation</span></a>
							&nbsp;(Read Only)
                        <div class="description">Gets the <a href="class_dw_util_Geolocation.html">Geolocation</a> object for the clientIP set in
 <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> or null if no shopperContext is found, or no clientIP was set
 or Geolocation for the clientIP was not found.
 <p/>
 The method throws an exception if the call fails.</div>
                    </span>
                </div>
                <div class="summaryItem">
                    <span><a name="_DetailAnchor"></a>shopperContext
						&nbsp;:&nbsp;
						
					    
					    <a href="class_dw_customer_shoppercontext_ShopperContext.html"><span class="">ShopperContext</span></a>
                        <div class="description">The <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> if it exists for the customer. Returns null if it
 does not exist.</div>
                    </span>
                </div>
            </div>
            <div class="section">
                <div class="header">
			Constructor Summary
		</div>
                <div class="summaryItem"> 
			This class does not have a constructor, so you cannot create it directly.  
		    </div>
            </div>
            <div class="section">
                <div class="header">
			Method Summary
		</div>
                <div class="summaryItem">
                    <span>static&nbsp;<span class="emphasis"><a href="#dw_customer_shoppercontext_ShopperContextMgr_getGeolocation_DetailAnchor"><span class="">getGeolocation</span></a></span>()
						: 
					<a href="class_dw_util_Geolocation.html"><span class="">Geolocation</span></a></span>
                    <div class="description">Gets the <a href="class_dw_util_Geolocation.html">Geolocation</a> object for the clientIP set in <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> or null if no shopperContext is found, or no clientIP was set or Geolocation for the clientIP was not found.</div>
                </div>
                <div class="summaryItem">
                    <span>static&nbsp;<span class="emphasis"><a href="#dw_customer_shoppercontext_ShopperContextMgr_getShopperContext_DetailAnchor"><span class="">getShopperContext</span></a></span>()
						: 
					<a href="class_dw_customer_shoppercontext_ShopperContext.html"><span class="">ShopperContext</span></a></span>
                    <div class="description">Returns the <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> if it exists for the customer.</div>
                </div>
                <div class="summaryItem">
                    <span>static&nbsp;<span class="emphasis"><a href="#dw_customer_shoppercontext_ShopperContextMgr_removeShopperContext_DetailAnchor"><span class="">removeShopperContext</span></a></span>()
						: 
					void</span>
                    <div class="description">Removes the <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> for the customer.</div>
                </div>
                <div class="summaryItem">
                    <span>static&nbsp;<span class="emphasis"><a href="#dw_customer_shoppercontext_ShopperContextMgr_setShopperContext_ShopperContext_Boolean_DetailAnchor"><span class="">setShopperContext</span></a></span>(shopperContext
								 : 	
								 
								<a href="class_dw_customer_shoppercontext_ShopperContext.html"><span class="">ShopperContext</span></a>, evaluateContextWithClientIP
								 : 	
								 
								boolean)
						: 
					void</span>
                    <div class="description"><p> Sets new <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> for the customer or overwrites the existing context.</div>
                </div>
            </div>
            <div class="section">
                <div class="subHeader">
                    						Methods inherited from class 
						
					    <a href="class_TopLevel_Object.html"><span class="">Object</span></a>
                </div>
                <div class="summaryItem">
                    <a href="class_TopLevel_Object.html#TopLevel_Object_assign_Object_Object_DetailAnchor"><span class="">assign</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_create_Object_DetailAnchor"><span class="">create</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_create_Object_Object_DetailAnchor"><span class="">create</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_defineProperties_Object_Object_DetailAnchor"><span class="">defineProperties</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_defineProperty_Object_Object_Object_DetailAnchor"><span class="">defineProperty</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_entries_Object_DetailAnchor"><span class="">entries</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_freeze_Object_DetailAnchor"><span class="">freeze</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_fromEntries_Iterable_DetailAnchor"><span class="">fromEntries</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_getOwnPropertyDescriptor_Object_Object_DetailAnchor"><span class="">getOwnPropertyDescriptor</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_getOwnPropertyNames_Object_DetailAnchor"><span class="">getOwnPropertyNames</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_getOwnPropertySymbols_Object_DetailAnchor"><span class="">getOwnPropertySymbols</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_getPrototypeOf_Object_DetailAnchor"><span class="">getPrototypeOf</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_hasOwnProperty_String_DetailAnchor"><span class="">hasOwnProperty</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_is_Object_Object_DetailAnchor"><span class="">is</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_isExtensible_Object_DetailAnchor"><span class="">isExtensible</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_isFrozen_Object_DetailAnchor"><span class="">isFrozen</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_isPrototypeOf_Object_DetailAnchor"><span class="">isPrototypeOf</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_isSealed_Object_DetailAnchor"><span class="">isSealed</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_keys_Object_DetailAnchor"><span class="">keys</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_preventExtensions_Object_DetailAnchor"><span class="">preventExtensions</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_propertyIsEnumerable_String_DetailAnchor"><span class="">propertyIsEnumerable</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_seal_Object_DetailAnchor"><span class="">seal</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_setPrototypeOf_Object_Object_DetailAnchor"><span class="">setPrototypeOf</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_toLocaleString_DetailAnchor"><span class="">toLocaleString</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_toString_DetailAnchor"><span class="">toString</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_valueOf_DetailAnchor"><span class="">valueOf</span></a>, <a href="class_TopLevel_Object.html#TopLevel_Object_values_Object_DetailAnchor"><span class="">values</span></a>
                </div>
            </div>
            <div class="section">
                <div class="header">
			Method Detail
		</div>
                <div class="detailItem">
                    <a name="dw_customer_shoppercontext_ShopperContextMgr_getGeolocation_DetailAnchor"></a>
                    <div class="detailName 
						">getGeolocation</div>
                    <div class="detailSignature
	    				">
                        static&nbsp;<span class="emphasis">getGeolocation</span>()
					 : 
					<a href="class_dw_util_Geolocation.html"><span class="">Geolocation</span></a>
                    </div>
                    <div class="description">Gets the <a href="class_dw_util_Geolocation.html">Geolocation</a> object for the clientIP set in
 <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> or null if no shopperContext is found, or no clientIP was set
 or Geolocation for the clientIP was not found.
 <p/>
 The method throws an exception if the call fails.</div>
                    <div class="parameters">
                        <span class="parameterTitle">Throws:</span>
                        <div class="parameterDetail">
                            <a href="class_dw_customer_shoppercontext_ShopperContextException.html"><span class="parameterName">ShopperContextException</span></a>						
						 - 
						 <span class="parameterDesc">This exception is thrown if error occurs while trying to retrieve Geolocation string from the Shopper Context.</span>
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="detailItem">
                    <a name="dw_customer_shoppercontext_ShopperContextMgr_getShopperContext_DetailAnchor"></a>
                    <div class="detailName 
						">getShopperContext</div>
                    <div class="detailSignature
	    				">
                        static&nbsp;<span class="emphasis">getShopperContext</span>()
					 : 
					<a href="class_dw_customer_shoppercontext_ShopperContext.html"><span class="">ShopperContext</span></a>
                    </div>
                    <div class="description">Returns the <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> if it exists for the customer. Returns null if it
 does not exist.</div>
                    <div class="parameters">
                        <span class="parameterTitle">Returns:</span>
                        <div class="parameterDetail">
                            <span class="parameterDesc">The Shopper Context or null.</span>
                        </div>
                        <div class="parameterDetail"></div>
                    </div>
                    <div class="parameters">
                        <span class="parameterTitle">Throws:</span>
                        <div class="parameterDetail"></div>
                        <div class="parameterDetail">
                            <a href="class_dw_customer_shoppercontext_ShopperContextException.html"><span class="parameterName">ShopperContextException</span></a>						
						 - 
						 <span class="parameterDesc">This exception is thrown if an error occurs while fetching the Shopper Context.</span>
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="detailItem">
                    <a name="dw_customer_shoppercontext_ShopperContextMgr_removeShopperContext_DetailAnchor"></a>
                    <div class="detailName 
						">removeShopperContext</div>
                    <div class="detailSignature
	    				">
                        static&nbsp;<span class="emphasis">removeShopperContext</span>()
					 : 
					void
                    </div>
                    <div class="description">Removes the <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> for the customer.
 <p/>
 The method throws an exception if the deletion of Shopper Context fails.</div>
                    <div class="parameters">
                        <span class="parameterTitle">Throws:</span>
                        <div class="parameterDetail">
                            <a href="class_dw_customer_shoppercontext_ShopperContextException.html"><span class="parameterName">ShopperContextException</span></a>						
						 - 
						 <span class="parameterDesc">This exception is thrown if error occurs while deleting the Shopper Context.</span>
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="detailItem">
                    <a name="dw_customer_shoppercontext_ShopperContextMgr_setShopperContext_ShopperContext_Boolean_DetailAnchor"></a>
                    <div class="detailName 
						">setShopperContext</div>
                    <div class="detailSignature
	    				">
                        static&nbsp;<span class="emphasis">setShopperContext</span>(shopperContext
								 : 
								 
								<a href="class_dw_customer_shoppercontext_ShopperContext.html"><span class="">ShopperContext</span></a>, evaluateContextWithClientIP
								 : 
								 
								boolean)
					 : 
					void
                    </div>
                    <div class="description"><p>
 Sets new <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a> for the customer or overwrites the existing context.
 </p>
 <p>
 Note: This method does not save the attributes from the given Shopper Context such as - custom session
 attributes, source code, effective date time etc., - in the current session object. These attributes are read
 from Shopper Context and stored in the corresponding session attributes during subsequent requests and not in the
 current request. Hence, promotions, price books etc., are triggered in subsequent requests.
 </p>
 If <code>clientIP</code> is set in <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a>, the geolocation information
 is retrieved and set in <code>x-geolocation</code> header.
 </p>
 And if the parameter <code>evaluateContextWithClientIP</code> is set to true, the <code>clientIP</code> will be
 saved to the Shopper Context.
 </p>
 If parameter <code>evaluateContextWithClientIP</code> is set to false, the <code>clientIP</code> will not be
 saved to the Shopper Context.
 </p>
 If the <code>geoLocation</code> attribute is set, it overrides any geolocation context set by
 <code>clientIP</code>.</div>
                    <div class="parameters">
                        <span class="parameterTitle">Parameters:</span>
                        <div class="parameterDetail">
                            <span class="parameterName">shopperContext</span>
						 - 
						<span class="parameterDesc">The new Shopper Context to set. See documentation for <a href="class_dw_customer_shoppercontext_ShopperContext.html">ShopperContext</a></span>
                        </div>
                        <div class="parameterDetail">
                            <span class="parameterName">evaluateContextWithClientIP</span>
						 - 
						<span class="parameterDesc">The boolean to determine if Shopper Context should be evaluated with clientIP address.</span>
                        </div>
                    </div>
                    <div class="parameters">
                        <span class="parameterTitle">Throws:</span>
                        <div class="parameterDetail"></div>
                        <div class="parameterDetail"></div>
                        <div class="parameterDetail">
                            <a href="class_dw_customer_shoppercontext_ShopperContextException.html"><span class="parameterName">ShopperContextException</span></a>						
						 - 
						 <span class="parameterDesc">This exception is thrown if the Shopper Context is not saved or if validation fails.</span>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
            <div class="copyright">
                            &copy; Copyright 2000-2025, salesforce.com inc. All rights reserved. Various trademarks held by their respective owners.

			
                <div class="clear"></div>
            </div>
            <!--End of formatClass-->
        </div>
    </body>
</html>
