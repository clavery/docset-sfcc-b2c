<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-148075995-1" xml:space="preserve"><!-- --></script>
<script xml:space="preserve">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-148075995-1');
</script>

<link href="https://developer.salesforce.com/docs/commerce/b2c-commerce/references/ocapi-shop-api?meta=Summary" rel="canonical"/><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

<meta content="(C) Copyright 2023" name="copyright"/>
<meta content="(C) Copyright 2023" name="DC.rights.owner"/>
<meta content="concept" name="DC.Type"/>
<meta content="Customers resource (Shop API 23.2)" name="DC.Title"/>
<meta content="" name="abstract"/>
<meta content="" name="description"/>
<meta content="XHTML" name="DC.Format"/>
<meta content="id152106871" name="DC.Identifier"/>
<meta content="en-us" name="DC.Language"/>
<link href="../../../../css/commonltr.css" rel="stylesheet" type="text/css"/><script src="../../../../scripts/jquery-3.5.0.min.js" type="text/javascript" xml:space="preserve"> //  // </script><script src="../../../../scripts/dwScript.js" type="text/javascript" xml:space="preserve"> //  // </script>
<title>Customers resource (Shop API 23.2)</title>
<!-- text added to HEAD tag-->
<script src="../../../../../../advanced/synchWithToc.js" type="text/javascript" xml:space="preserve"><!-- --></script>

<link charset="ISO-8859-1" href="../../../../../../content/org.eclipse.help.webapp/advanced/breadcrumbs.css" rel="stylesheet" type="text/css"/>
<script src="../../../../../../content/org.eclipse.help/livehelp.js" type="text/javascript" xml:space="preserve"> </script>
<script type="text/javascript">
if( self == "blah" ){
  var  anchorParam = location.hash.length > 0 ? '\u0026anchor=' + location.hash.substr(1) : '';
  window.location.replace( "../../../../../../index.jsp?topic=%2Fcom.demandware.dochelp%2FOCAPI%2Fcurrent%2Fshop%2FResources%2FCustomers.html" + anchorParam);
}
</script>
<style>
@import url(//fonts.googleapis.com/css?family=Salesforce+Sans:400,400italic,bold,bolditalic);

/*
 | This file is part of the DITA Open Toolkit project. See the accompanying license.txt file for
 | applicable licenses.
*/
/*
 | (c) Copyright IBM Corp. 2004, 2005 All Rights Reserved.
 */
.unresolved { background-color: skyblue }
.noTemplate { background-color: yellow }
.base { background-color: #ffffff }
/* Add space for top level topics */
/*.nested0 { margin-top : 1em }*/
/* div with class=p is used for paragraphs that contain blocks, to keep the XHTML valid */
.p { margin-top: 1em }
/* Default of italics to set apart figure captions */
.figcap { font-style: italic }
.figdesc { font-style: normal }
/* Use @frame to create frames on figures */
.figborder {
    border-style: solid;
    padding-left : 3px;
    border-width : 2px;
    padding-right : 3px;
    margin-top: 1em;
    border-color : Silver;
}
.figsides {
    border-left : 2px solid;
    padding-left : 3px;
    border-right : 2px solid;
    padding-right : 3px;
    margin-top: 1em;
    border-color : Silver;
}
.figtop {
    border-top : 2px solid;
    margin-top: 1em;
    border-color : Silver;
}
.figbottom {
    border-bottom : 2px solid;
    border-color : Silver;
}
.figtopbot {
    border-top : 2px solid;
    border-bottom : 2px solid;
    margin-top: 1em;
    border-color : Silver;
}
/* Most link groups are created with <div>. Ensure they have space before and after. */
.ullinks {
  list-style-type: none;
}
.ulchildlink {
  margin-top: 1em;
  margin-bottom: 1em;
}
.olchildlink {
  margin-top: 1em;
  margin-bottom: 1em;
}
.linklist {
  margin-bottom: 1em;
}
.linklistwithchild {
    margin-left: 1.5em;
    margin-bottom: 1em;
}
.sublinklist {
    margin-left: 1.5em;
    margin-bottom: 1em;
}
.relconcepts {
    margin-top: 1em;
    margin-bottom: 1em;
}
.reltasks {
    margin-top: 1em;
    margin-bottom: 1em;
}
.relref {
    margin-top: 1em;
    margin-bottom: 1em;
}
.relinfo {
    margin-top: 1em;
    margin-bottom: 1em;
}
.breadcrumb {
    font-size : 1em;
    margin-bottom: 1em;
}
dt.prereq { margin-left : 20px }
/* Set heading sizes, getting smaller for deeper nesting */
.topictitle1 {
    color: #333333;
    font-size: 2em;
    font-weight: bold;
    line-height: 1.5em;
	margin-top: .5em
}
.topictitle2 {
    font-size: 1.6em;
    font-weight: bold;
    line-height: 1.5em;
}
.topictitle3 {
    /* margin-top: 1pc;
    margin-bottom: .17em;*/
    font-size: 1.4em;
    font-weight: bold;
    line-height: 1.5em;
}
.topictitle4 {
    /* margin-top: .83em; */
    font-size: 1.4em;
}
.topictitle5 { font-size: 1.2em }
.topictitle6 {
    font-size: 1.2em;
    font-style: italic;
}
.sectiontitle {
    font-size: 1.6em;
    font-style: bold;
}
.section {
    margin-top: 1em;
    margin-bottom: 1em;
}
.example {
    margin-top: 1em;
    margin-bottom: 1em;
}
div.tasklabel {
    margin-top: 1em;
    margin-bottom: 1em;
}
h2.tasklabel,
h3.tasklabel,
h4.tasklabel,
h5.tasklabel,
h6.tasklabel { font-size: 100% }
/* All note formats have the same default presentation */
.note {
    margin-top: 1em;
    margin-bottom : 1em;
}
.notetitle { font-weight: bold }
.notelisttitle { font-weight: bold }
.tip {
    margin-top: 1em;
    margin-bottom : 1em;
}
.tiptitle { font-weight: bold }
.fastpath {
    margin-top: 1em;
    margin-bottom : 1em;
}
.fastpathtitle { font-weight: bold }
.important {
    margin-top: 1em;
    margin-bottom : 1em;
}
.importanttitle { font-weight: bold }
.remember {
    margin-top: 1em;
    margin-bottom : 1em;
}
.remembertitle { font-weight: bold }
.restriction {
    margin-top: 1em;
    margin-bottom : 1em;
}
.restrictiontitle { font-weight: bold }
.attention {
    margin-top: 1em;
    margin-bottom : 1em;
}
.attentiontitle { font-weight: bold }
.dangertitle { font-weight: bold }
.danger {
    margin-top: 1em;
    margin-bottom : 1em;
}
.cautiontitle { font-weight: bold }
.caution {
    font-weight: bold;
    margin-bottom : 1em;
}
.warning {
    margin-top: 1em;
    margin-bottom : 1em;
}
.warningtitle { font-weight: bold }
/* Simple lists do not get a bullet */
ul.simple { list-style-type: none }
/* Used on the first column of a table, when rowheader="firstcol" is used */
.firstcol { font-weight : bold }
/* Various basic phrase styles */
.bold { font-weight: bold }
.boldItalic {
    font-weight: bold;
    font-style: italic;
}
.italic { font-style: italic }
.underlined { text-decoration: underline }
.uicontrol { font-weight: bold }
.parmname { font-weight: bold }
.kwd { font-weight: bold }
.defkwd {
    font-weight: bold;
    text-decoration: underline;
}
.var { font-style : italic }
.shortcut { text-decoration: underline }
/* Default of bold for definition list terms */
.dlterm { font-weight: bold }
/* Use CSS to expand lists with @compact="no" */
.dltermexpand {
    font-weight: bold;
    margin-top: 1em;
}
*[compact="yes"]>li { margin-top: 0em }
*[compact="no"]>li { margin-top: .53em }
.liexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
.sliexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
.dlexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
.ddexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
.stepexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
.substepexpand {
    margin-top: 1em;
    margin-bottom: 1em;
}
/* Align images based on @align on topic/image */
div.imageleft { text-align: left }
div.imagecenter { text-align: center }
div.imageright { text-align: right }
div.imagejustify { text-align: justify }
/* The cell border can be turned on with
   {border-right:solid}
   This value creates a very thick border in Firefox (does not match other tables)

   Firefox works with
   {border-right:solid 1pt}
   but this causes a barely visible line in IE */

pre.screen {
    padding: 5px 5px 5px 5px;
    border: outset;
    background-color: #CCCCCC;
    margin-top: 2px;
    margin-bottom : 2px;
    white-space: pre;
}
/* Demandware Styles */

span.filepath {
    color: #000000;
    font-family: "Courier New", Courier, "Lucida Console", Monaco, monospace;
}
html {
    background: none repeat scroll 0 0 #FFFFFF;
    padding: 10px 0;
}

.nocellnorowborder {
    border: 1px solid #ACB1B7;
}

.cellrowborder {
   border: 1px solid #ACB1B7;
}
.row-nocellborder {
    border: 1px solid #ACB1B7;
}
.cell-norowborder {
    border: 1px solid #ACB1B7;
}

.topictitle1{
    color: #253045;
    font-family: "Salesforce Sans", "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif;
    font-weight: normal;
}
.topictitle2{
    color: #253045;
    font-family: "Salesforce Sans", "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif;
    font-weight: normal;
}
.topictitle3{
    color: #253045;
    font-family: "Salesforce Sans", "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif;
    font-weight: normal;
}
.sectiontitle{
    color: #706e6b;
    font-family: "Salesforce Sans", "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif;
    font-weight: normal;
}

body {
    /* background: none repeat scroll 0 0 #F9F9F9;
    border: 1px solid #DADADA;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    */
    color: #111111;
    font-family: "Salesforce Sans", Helvetica, Arial, sans-serif;
    font-size: .8em;
    line-height: 1.4em;
    padding: 10px;
}
li { padding-top: 1em }
p.subheading1 { font-size: 1.4em }
p.subheading2 { font-size: 1.2em }
.copyright_footer {
	 font-size: 1em;
	 font-style: italic;
}
a:link,
a:visited { color: #008CB9 }
a:hover,
a:focus {
    color: #3778C7;
    text-decoration: underline;
}
strong { color: #000000 }
.help_breadcrumbs,
.help_breadcrumbs a {
    color: #1589ee;
    font-size: 13px;
    font-weight: normal;
    padding: 0 0 0px;
    text-decoration: none;
	margin: 0px;
}
.help_breadcrumbs a:hover { text-decoration: underline }
.related-links { font-size: 11px }
div.header{
	line-height: 1em;
}

.alignleft {
	float: left;
	font-size: 1em;
	font-style: italic;
	margin: 0px;
	padding: 0px;

}
.alignright {
	float: right;
	margin: 0px;
	padding: 0px;
}

li table {
	margin-top: 1em;
	margin-bottom: 1em;
}

div.tablenoborder {
	margin-top: 1em;
}


table {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #E6E6E6;
    border-collapse: collapse;
    padding: 5px;
}
table th {
    /* filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#eef0f4', endColorstr = '#ccd1d8');; ;
    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr = '#eef0f4', endColorstr = '#ccd1d8')";
    background-image: -moz-linear-gradient(top, #eef0f4, #ccd1d8);
    background-image: -ms-linear-gradient(top, #eef0f4, #ccd1d8);
    background-image: -o-linear-gradient(top, #eef0f4, #ccd1d8);
    background-image: -webkit-gradient(linear, center top, center bottom, from(#eef0f4), to(#ccd1d8));
    background-image: -webkit-linear-gradient(top, #eef0f4, #ccd1d8);
    background-image: linear-gradient(top, #eef0f4, #ccd1d8);*/
    background: url("../com.demandware.standard.infocenter/doc/icon_note.png") no-repeat scroll 6px 9px #efefef;
    color: #4F5762;
    font-size: 1em;
    font-weight: bold;
    /* padding: 10px 3px 8px 5px; */
    padding: 1em;
}
table.table td,
table.simpletable td {
    border: 1px solid #ACB1B7;
    /* filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#ffffff', endColorstr = '#e5e5e5');
    /*INNER ELEMENTS MUST NOT BREAK THIS ELEMENTS BOUNDARIES*//*Element must have a height (not auto)*//*All filters must be placed together*/
    /*-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr = '#ffffff', endColorstr = '#e5e5e5')"; */
    /*Element must have a height (not auto)*//*All filters must be placed together*/
    /* background-image: -moz-linear-gradient(top, #ffffff, #e5e5e5);
    background-image: -ms-linear-gradient(top, #ffffff, #e5e5e5);
    background-image: -o-linear-gradient(top, #ffffff, #e5e5e5);
    background-image: -webkit-gradient(linear, center top, center bottom, from(#ffffff), to(#e5e5e5));
    background-image: -webkit-linear-gradient(top, #ffffff, #e5e5e5);
    background-image: linear-gradient(top, #ffffff, #e5e5e5);*/
    /*--IE9 DOES NOT SUPPORT CSS3 GRADIENT BACKGROUNDS--*/
    /* padding: 12px 3px 12px 5px; */
    padding: 1em;
}
table.copyright_table {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #FFFFFF;
    border-collapse: collapse;
    padding: 0px;
	margin:0;
}

table.copyright_table td {
    padding: 0px;
	margin:0;
}

body .resultofText {
    background-color: transparent;
    color: #60a345;
}
pre {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #999999;
    color: #000000;
    font-family: "Courier New", Courier, "Lucida Console", Monaco, monospace;
    /* font-weight: bold; */
    margin: 8px;
    padding: 8px;
    overflow-x: auto;
}
pre code {
    font-family: "Courier New", Courier, "Lucida Console", Monaco, monospace;
}
.codeph {
    color: #000000;
    font-family: "Courier New", Courier, "Lucida Console", Monaco, monospace;
}
.note {
    background: url("../com.demandware.standard.infocenter/doc/icon_note.png") no-repeat scroll 6px 9px #efefef;
    border: 1px solid #ffffff;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    color: #333333;
/*    font-family: Verdana,Arial,Helvetica,sans-serif;  */
    font-size: 1em;
    padding: 10px 10px 10px 26px;
}
.hidden { display: none; }
.shown { display: block; }
div[role=search]{
	background-color: #25282A;
	color: #CCCCCC;
}
a:link.scopeLabel {color:#FFB549;}
#cookieConsent {
    background-color: rgba(20,20,20,0.8);
    min-height: 26px;
    font-size: 14px;
    color: #ccc;
    line-height: 26px;
    padding: 8px 0 8px 30px;
    font-family: "Trebuchet MS",Helvetica,sans-serif;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    display: none;
    z-index: 9999;
}
#cookieConsent a {
    color: #4B8EE7;
    text-decoration: none;
}
#closeCookieConsent {
    float: right;
    display: inline-block;
    cursor: pointer;
    height: 20px;
    width: 20px;
    margin: -15px 0 0 0;
    font-weight: bold;
}
#closeCookieConsent:hover {
    color: #FFF;
}
#cookieConsent a.cookieConsentOK {
    background-color: #F1D600;
    color: #000;
    display: inline-block;
    border-radius: 5px;
    padding: 0 20px;
    cursor: pointer;
    float: right;
    margin: 0 60px 0 10px;
}
#cookieConsent a.cookieConsentOK:hover {
    background-color: #E0C91F;
}
#ocapiDeprecationBanner {
    background-color: #0747a6;
    min-height: 26px;
    font-size: 14px;
    color: white;
    line-height: 26px;
    padding: 8px 0 8px 30px;
    font-family: "Trebuchet MS",Helvetica,sans-serif;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: none;
    z-index: 9999;
}
#ocapiDeprecationBanner a {
    color: #4B8EE7;
    text-decoration: none;
}
#closeDeprecationBanner {
    float: right;
    display: inline-block;
    cursor: pointer;
    height: 20px;
    width: 20px;
    margin: -15px 0 0 0;
    font-weight: bold;
}
.help_breadcrumbs { display: none !important; }
.copyright_table td { display: none; }
copyright_table td:nth-child(4) { display: table-cell; }
</style>
<body id="id152106871">
<div class="help_breadcrumbs"><a href="../../../../../../topic/com.demandware.dochelp/content/b2c_commerce/topics/getting_started/b2c_welcome.html" shape="rect">Salesforce B2C Commerce 23.6</a> &gt; <a href="../../../../../../topic/com.demandware.dochelp/OCAPI/current/usage/OpenCommerceAPI.html" shape="rect">Open Commerce API 23.2</a> &gt; <a href="../../../../../../topic/com.demandware.dochelp/OCAPI/current/usage/ShopAPIResources.html" shape="rect">Shop API resources 23.2</a></div>

<div><!-- text added to header of html--></div>
      <h1 class="title topictitle1" id="ariaid-title1">Customers resource (Shop API 23.2)</h1>

      
      <div class="body conbody"><p class="shortdesc"> </p>
<div class="section" id="id152106871__Summary"><h2 class="title sectiontitle">Summary</h2>
      
      
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">Http Method</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;">Resource</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1998856454" shape="rect">/customers</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">Registers a customer.</p>

 <p class="p">You must specify the login credentials, last name, and email address. This method ignores all other data, 
 which can only be set for an existing customer. To set other values, make calls after the customer is created.</p>

 <p class="p">When using OAuth, don't include the password in the request. In this case, including the password throws 
 an <code class="ph codeph">InvalidPasswordException</code>.</p>

 <p class="p">When using JWT, the password is required.</p>

 <p class="p">Also returns the hashedLoginId for Einstein use cases.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">DELETE</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-71330430" shape="rect">/customers/auth</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Invalidates the JWT provided in the header.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-98588883" shape="rect">/customers/auth</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Obtains a new JWT (JSON Web Token) for a guest or registered customer. Tokens are returned as a HTTP
 Authorization:Bearer response header entry. These kinds of request are supported, as specified by the
 <code class="ph codeph">type</code>:
 <ul class="ul">
 <li class="li">Type <em class="ph i">guest</em> - creates a new guest (non-authenticated) customer and returns a token for the
 customer.</li>

 <li class="li">Type <em class="ph i">credentials</em> - authenticates credentials passed in the HTTP Authorization:Basic request header,
 returning a token for a successfully authenticated customer, otherwise it throws an
 AuthenticationFailedException.</li>

 <li class="li">Type <em class="ph i">session</em> - authenticates the customer (anonymous or registered) based on the <em class="ph i">dwsid</em> and
 <em class="ph i">dwsecuretoken</em> cookies. It returns a token for a successfully authenticated customer, otherwise it throws
 an AuthenticationFailedException.</li>

 <li class="li">Type <em class="ph i">refresh</em> - examines the token passed in the HTTP Authorization:Bearer request header and when
 valid returns a new token with an updated expiry time.</li>

 </ul>

 For a request of type <em class="ph i">credentials</em>:
 <ul class="ul">
 <li class="li">Updates profile attributes for the customer (for example, "last-visited").</li>

 <li class="li">Handles the maximum number of failed login attempts.</li>

 </ul>

 For a request of type <em class="ph i">session</em>:
 <ul class="ul">
 <li class="li">The session and corresponding <em class="ph i">dwsecuretoken</em> must be active and valid. An expired session can't be
 used. The <em class="ph i">dwsecuretoken</em> cookie must have been used for at least one previous HTTPS request with the same
 <em class="ph i">dwsid</em> cookie.</li>

 <li class="li">Does not touch profile attributes for the registered customer (for example, "last-visited"), since this is
 not a real login.</li>

 <li class="li">Returns different tokens for multiple requests with the same session id. Means, there should be only one call
 per session.</li>

 </ul>

 <p class="p subheading1">
 About JWT
 </p>

 The token contains 3 sections:
 <ul class="ul">
 <li class="li">the <em class="ph i">header</em> section (specifies token type and algorithm used)</li>

 <li class="li">the <em class="ph i">payload</em> section (contains customer information, client id, issue and expiration time)</li>

 <li class="li">finally the <em class="ph i">signature</em> section records the token signature.</li>

 </ul>

 A token is created and returned to the client whenever a registered customer logs in (type "credentials") or a
 guest customer requests it (type "guest"). The token is returned in the response header as
 <p class="lines pdfonly"><!-- --></p>
 <code class="ph codeph">Authorization: Bearer --token--</code>
 <p class="lines pdfonly"><!-- --></p>
 The client has to include the token in the request header as
 <p class="lines pdfonly"><!-- --></p>
 <code class="ph codeph">Authorization: Bearer --token--</code>
 <p class="lines pdfonly"><!-- --></p>
 in any follow up request. The server declines any follow up requests
 without a token or which cannot be verified based on the token signature or expiration time. A token nearing its
 expiration time should be exchanged for a new one (type "refresh"). <p class="lines pdfonly"><!-- --></p>
 See
 "API Usage &gt; JWT" for more details on using JWT as an authentication mechanism.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1089424522" shape="rect">/customers/auth/trustedsystem</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Obtain the JWTs for registered customers whose credentials are stored using a third party system.
 <ul class="ul">
 <li class="li">Accepts <code class="ph codeph">login_id</code> and <code class="ph codeph">client_id</code></li>

 <li class="li">Returns a customer object in the response body, and the JWT generated against the <code class="ph codeph">client_id</code>
 in the response header. In addition, the returned response will include the hashedLoginId field for Einstein use.</li>

 </ul>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id983246846" shape="rect">/customers/ext_profile</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">Register a customerExtProfile.
 The mandatory data are the external_id and authentication_provider_id.</p>

 <p class="p">While using JWT the guest JWT needs to be used.</p>

 <p class="p">This will not be supporting hooks</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id350079124" shape="rect">/customers/ext_profile</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Gets the customerExtProfile based on the passed in query parameters of external_id and authentication_provider_id</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1716137738" shape="rect">/customers/password_reset</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">First the beforePOST hook is called. After that the validation of the 
 customer information provided in the the password reset document is performed. 
 Then a password reset token is generated and together with the resolved 
 customer is passed to a afterPOST hook. The customer resolution is based 
 on the password reset request type. Both hooks are performed in a single
 transaction.
 Currently the resolution can be done by email or login. In case of
 an email the password reset hook is only executed if one and only one
 customer has been identified for that email. In the case that more than
 one customers have been identified for the provided email the resource
 does nothing.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-188506781" shape="rect">/customers/{customer_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Gets a customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PATCH</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id821659605" shape="rect">/customers/{customer_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Updates a customer. This endpoint can't update login credentials.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1478619760" shape="rect">/customers/{customer_id}/addresses</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a sorted pageable list of all customer addresses in the address book. The default page size is 10
 customer addresses. The addresses are sorted so that the preferred address is always sorted first. The remaining
 addresses are sorted alphabetically by ID.
 <p class="lines pdfonly"><!-- --></p>

 When the customer cannot be found <code class="ph codeph">CustomerNotFoundException</code>
 is thrown in a case of an agent but an empty result list is returned in a case of JWT.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id738820826" shape="rect">/customers/{customer_id}/addresses</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Creates a new address with the given name for the given customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-832492301" shape="rect">/customers/{customer_id}/addresses/{address_name}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Retrieves a customer's address by address name.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">DELETE</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-991325090" shape="rect">/customers/{customer_id}/addresses/{address_name}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Deletes a customer's address by address name.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PATCH</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1064466751" shape="rect">/customers/{customer_id}/addresses/{address_name}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Updates a customer's address by address name.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1055795270" shape="rect">/customers/{customer_id}/auth</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
 Obtains a new agent on behalf token for a registered customer. Token is returned as a HTTP Authorization:Bearer
 response header entry.
 </p>

 <p class="p">
 A token is created and returned to the client whenever an agent with <code class="ph codeph">Create_Order_On_Behalf_Of</code>
 permission calls the resource for a registered customer.
 </p>

 <p class="p">
 The token is returned in the response header as <code class="ph codeph">Authorization: Bearer --token--</code>.
 </p>

 <p class="p">
 The client has to include the token in the request header as <code class="ph codeph">Authorization: Bearer --token--</code>
 </p>

 in any follow up request, the agent will do on behalf of the customer.
 <p class="p subheading1">
 About the order on behalf token
 </p>

 <p class="p">
 The token contains 3 sections:
 </p>

 <ul class="ul">
 <li class="li">the <em class="ph i">header</em> section (specifies token type and algorithm used)</li>

 <li class="li">the <em class="ph i">payload</em> section (contains customer information, client id, issue and expiration time)</li>

 <li class="li">finally the <em class="ph i">signature</em> section records the token signature.</li>

 </ul>

 <p class="p">
 A token nearing its expiration time should be exchanged for a new one by calling this resource once more.
 </p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1657198395" shape="rect">/customers/{customer_id}/baskets</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Gets the baskets of a customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1011527047" shape="rect">/customers/{customer_id}/orders</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a pageable list of all customer's orders. The default page size is 10.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PUT</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-625942792" shape="rect">/customers/{customer_id}/password</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Updates a customer's password. The default implementation updates the password in the resource.  
 Versions prior to 21.3 updated the password in the afterPUT hook, which was incompatible with the Mercury API.
 Starting in version 21.3, the afterPUT_v2 hook replaces the afterPUT hook.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-1976118441" shape="rect">/customers/{customer_id}/password_reset</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">Starts a password reset process. The user must be an agent logged in on behalf of a customer.</p>

 <p class="p">Generates a password reset token and passes it with the specified customer
 as the path parameter to the dw.ocapi.shop.customer.password_reset.afterPOST hook. The hook
 can use the provided reset token to perform actions such as sending a reset email.</p>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id2135378879" shape="rect">/customers/{customer_id}/payment_instruments</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Gets customer payment instruments for an customer. <p class="lines pdfonly"><!-- --></p>
 Can be limited to a specific payment
 method by providing query parameter <code class="ph codeph">payment_method_id</code>.
 <p class="lines pdfonly"><!-- --></p>

 When the customer cannot be found <code class="ph codeph">CustomerNotFoundException</code>
 is thrown in a case of an agent but an empty result list is returned in a case of JWT.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id699195305" shape="rect">/customers/{customer_id}/payment_instruments</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Adds a payment instrument to a customer. Note that it can't update the read-only 
 <code class="ph codeph">credit_card_token</code> on a <code class="ph codeph">payment_card</code> record.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-327573840" shape="rect">/customers/{customer_id}/payment_instruments/{payment_instrument_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Retrieves a customer's payment instrument by its id.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">DELETE</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id114717029" shape="rect">/customers/{customer_id}/payment_instruments/{payment_instrument_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Deletes a customer's payment instrument.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1323936941" shape="rect">/customers/{customer_id}/product_lists</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns all customer product lists in a paginated manner.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-899745769" shape="rect">/customers/{customer_id}/product_lists</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Creates a customer product list.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-239318272" shape="rect">/customers/{customer_id}/product_lists/{list_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a customer product list of the given customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PATCH</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id584482674" shape="rect">/customers/{customer_id}/product_lists/{list_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Changes a product list. Changeable properties are the name, description and if the list is public.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">DELETE</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-937178571" shape="rect">/customers/{customer_id}/product_lists/{list_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Deletes a customer product list.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-156500113" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a pageable list of all items of a customer's product list. The default page size is 10.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id310458073" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Adds an item to the customer's product list. Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">type</strong>: a valid type, mandatory. This is the type of the item to be added to the customer's product
 list.</li>

 <li class="li"><strong class="ph b">priority</strong>: This is the priority of the item to be added to the customer's product list.</li>

 <li class="li"><strong class="ph b">public</strong>: This is the flag whether the item to be added to the customer's product list is public.</li>

 <li class="li"><strong class="ph b">product_id</strong>: a valid product id, used for <code class="ph codeph">product</code> item type only. This is the id (sku)
 of the product related to the item to be added to the customer's product list. It is mandatory for
 <code class="ph codeph">product</code> item type and it must be a valid product id, otherwise
 <code class="ph codeph">ProductListProductIdMissingException</code> or <code class="ph codeph">ProductListProductNotFoundException</code>
 will be thrown.</li>

 <li class="li"><strong class="ph b">quantity</strong>: used for <code class="ph codeph">product</code> item type only. This is the quantity of the item to be
 added to the customer's product list.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property must correspond to a custom
 attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItem. The value of this property must be valid for the
 type of custom attribute defined for ProductListItem.</li>

 </ul>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id786827757" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns an item of a customer product list.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">DELETE</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1335525154" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Removes an item from a customer product list.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PATCH</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1488788063" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Updates an item of a customer's product list.
 Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">priority</strong>: This is the priority of the customer's product list item.</li>

 <li class="li"><strong class="ph b">public</strong>: This is the flag whether the customer's product list item is public.</li>

 <li class="li"><strong class="ph b">quantity</strong>: used for <code class="ph codeph">product</code> item type only. This is the quantity of
 the customer's product list item.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property
 must correspond to a custom attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItem.
 The value of this property must be valid for the type of custom attribute defined for ProductListItem.</li>

 </ul>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1346541706" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a list of all purchases of an item from a customer's product list.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">POST</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id1135343348" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Adds a purchase to an item in the customer's product list. Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">purchaser_name</strong>: name of the purchaser, mandatory. This is the full name of the purchaser of this product
 list item.</li>

 <li class="li"><strong class="ph b">quantity</strong>: amount purchased, mandatory. This is the quantity of the items purchased from
 the product list.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property must correspond to a custom
 attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItemPurchase. The value of this property must be valid for the
 type of custom attribute defined for ProductListItemPurchase.</li>

 </ul>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">GET</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-912342886" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases/{purchase_id}</a></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Returns a purchase of an item from a customer's product list.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e32" rowspan="1" style="text-align:left;vertical-align:top;">PATCH</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e34" rowspan="1" style="text-align:left;vertical-align:top;"><a class="xref" href="Customers.html#id152106871__id-2134369524" shape="rect">/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases/{purchase_id}</a></td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e36" rowspan="1" style="text-align:left;vertical-align:top;">Updates a purchase of an item from a customer's product list.
 Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property
 must correspond to a custom attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItemPurchase.
 The value of this property must be valid for the type of custom attribute defined for ProductListItemPurchase.</li>

 </ul>
</td>
</tr>

          </tbody>
</table>
</div>

    </div>
<div class="section" id="id152106871__id-1998856454"><h2 class="title sectiontitle">Register customer</h2>
      
      <p class="p"><!-- --></p>
<p class="p">Registers a customer.</p>

 <p class="p">You must specify the login credentials, last name, and email address. This method ignores all other data, 
 which can only be set for an existing customer. To set other values, make calls after the customer is created.</p>

 <p class="p">When using OAuth, don't include the password in the request. In this case, including the password throws 
 an <code class="ph codeph">InvalidPasswordException</code>.</p>

 <p class="p">When using JWT, the password is required.</p>

 <p class="p">Also returns the hashedLoginId for Einstein use cases.</p>

      <p class="p subheading1" id="id152106871__id1789054005">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers</code></pre>
      <p class="p subheading1" id="id152106871__id1764965154">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1918041102">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e758" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e760" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e758" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e760" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e758" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e760" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-127128635">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerRegistration.html#id-1959274734" shape="rect">CustomerRegistration</a></p>
<p class="p subheading1" id="id152106871__id-1350968417">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1013925387">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerAlreadyRegisteredException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the resource is called with JWT
             representing a registered customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingEmailException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that request document does not contain email.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingLastNameException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that request document does not contain last_name.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingLoginException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that request document does not contain login.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">LoginAlreadyInUseException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the given login is already used.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidLoginException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that login doesn't match acceptance criteria.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidPasswordException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that password doesn't match acceptance criteria.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e822" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e824" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingPasswordException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e826" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e828" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that password was not provided in JWT scenario.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1007316761">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e925" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e927" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e925" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e927" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (registration : <a class="xref" href="../Documents/CustomerRegistration.html" shape="rect">
          CustomerRegistration
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before a new customer registration.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">registration - the customer registration information</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e925" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e927" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, registration : <a class="xref" href="../Documents/CustomerRegistration.html" shape="rect">
          CustomerRegistration
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after a new customer registration.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the registered customer</dd>
<dd class="dd pd ddexpand">registration - the customer registration information</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e925" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e927" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerResponse : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - created customer</dd>
<dd class="dd pd ddexpand">customerResponse - customer response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1385869604">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers HTTP/1.1
Host: example.com
Content-Type: application/json
{ 
  "password":"12345!aBcD",
  "customer": {
                "login": "jsmith"
                "email":"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bfd5ccd2d6cbd7ffcbdacccb91dcd0d2">[email&#160;protected]</a>",
                "last_name":"Smith"
               }
}

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer",
   "auth_type" : "registered",
   "creation_date" : "2015-09-09T15:50:53.142Z",
   "customer_id" : "ada5ZiobJRE4Ma1fSaAogMDKgI",
   "customer_no" : "00001140",
   "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c263f212538240c38293f38622f2321">[email&#160;protected]</a>",
   "last_name" : "Smith",
   "login" : "jsmith",
   "hashed_login": "66384ebc60778d647d9ceec5bba937ee409be16740669345c287df1abbf00724"
}

# in case of validation failure:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
Cache-Control: no-cache,no-store,must-revalidate
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "LoginAlreadyInUseException",
      "message" : "The login is already in use."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-71330430"><h2 class="title sectiontitle">Invalidate an existing customer JWT (JSON Web Token)</h2>
      
      <p class="p"><!-- --></p>
Invalidates the JWT provided in the header.
      <p class="p subheading1" id="id152106871__id1004087469">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>DELETE https://hostname:port/dw/shop/v23_2/customers/auth</code></pre>
      <p class="p subheading1" id="id152106871__id-965305446">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1902816378">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1120" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1122" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1120" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1122" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1037440614">Header Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1152" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1154" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1156" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1158" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1152" rowspan="1" style="text-align:left;vertical-align:top;">Authorization</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1154" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1156" rowspan="1" style="text-align:left;vertical-align:top;">the JWT</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1158" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1750244948">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request JWT invalidation for the provided token

REQUEST:
DELETE /dw/shop/v23_2/customers/auth HTTP/1.1
Host: example.com
Authorization:Bearer &lt;&lt;token&gt;&gt; 
Content-Type:application/json

# in case of success, the token will be invalidated

RESPONSE:
HTTP/1.1 204 OK
Content-Length:0</code></pre></div>

    </div>
<div class="section" id="id152106871__id-98588883"><h2 class="title sectiontitle">Get or refresh customer JWT (JSON Web Token)</h2>
      
      <p class="p"><!-- --></p>
Obtains a new JWT (JSON Web Token) for a guest or registered customer. Tokens are returned as a HTTP
 Authorization:Bearer response header entry. These kinds of request are supported, as specified by the
 <code class="ph codeph">type</code>:
 <ul class="ul">
 <li class="li">Type <em class="ph i">guest</em> - creates a new guest (non-authenticated) customer and returns a token for the
 customer.</li>

 <li class="li">Type <em class="ph i">credentials</em> - authenticates credentials passed in the HTTP Authorization:Basic request header,
 returning a token for a successfully authenticated customer, otherwise it throws an
 AuthenticationFailedException.</li>

 <li class="li">Type <em class="ph i">session</em> - authenticates the customer (anonymous or registered) based on the <em class="ph i">dwsid</em> and
 <em class="ph i">dwsecuretoken</em> cookies. It returns a token for a successfully authenticated customer, otherwise it throws
 an AuthenticationFailedException.</li>

 <li class="li">Type <em class="ph i">refresh</em> - examines the token passed in the HTTP Authorization:Bearer request header and when
 valid returns a new token with an updated expiry time.</li>

 </ul>

 For a request of type <em class="ph i">credentials</em>:
 <ul class="ul">
 <li class="li">Updates profile attributes for the customer (for example, "last-visited").</li>

 <li class="li">Handles the maximum number of failed login attempts.</li>

 </ul>

 For a request of type <em class="ph i">session</em>:
 <ul class="ul">
 <li class="li">The session and corresponding <em class="ph i">dwsecuretoken</em> must be active and valid. An expired session can't be
 used. The <em class="ph i">dwsecuretoken</em> cookie must have been used for at least one previous HTTPS request with the same
 <em class="ph i">dwsid</em> cookie.</li>

 <li class="li">Does not touch profile attributes for the registered customer (for example, "last-visited"), since this is
 not a real login.</li>

 <li class="li">Returns different tokens for multiple requests with the same session id. Means, there should be only one call
 per session.</li>

 </ul>

 <p class="p subheading1">
 About JWT
 </p>

 The token contains 3 sections:
 <ul class="ul">
 <li class="li">the <em class="ph i">header</em> section (specifies token type and algorithm used)</li>

 <li class="li">the <em class="ph i">payload</em> section (contains customer information, client id, issue and expiration time)</li>

 <li class="li">finally the <em class="ph i">signature</em> section records the token signature.</li>

 </ul>

 A token is created and returned to the client whenever a registered customer logs in (type "credentials") or a
 guest customer requests it (type "guest"). The token is returned in the response header as
 <p class="lines pdfonly"><!-- --></p>
 <code class="ph codeph">Authorization: Bearer --token--</code>
 <p class="lines pdfonly"><!-- --></p>
 The client has to include the token in the request header as
 <p class="lines pdfonly"><!-- --></p>
 <code class="ph codeph">Authorization: Bearer --token--</code>
 <p class="lines pdfonly"><!-- --></p>
 in any follow up request. The server declines any follow up requests
 without a token or which cannot be verified based on the token signature or expiration time. A token nearing its
 expiration time should be exchanged for a new one (type "refresh"). <p class="lines pdfonly"><!-- --></p>
 See
 "API Usage &gt; JWT" for more details on using JWT as an authentication mechanism.
      <p class="p subheading1" id="id152106871__id696333090">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/auth</code></pre>
      <p class="p subheading1" id="id152106871__id863658895">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1600714469">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1330" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1332" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1330" rowspan="1" style="text-align:left;vertical-align:top;">None</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1332" rowspan="1" style="text-align:left;vertical-align:top;">No authentication.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1257713144">Request Document</p>
<p class="p"><a class="xref" href="../Documents/AuthRequest.html#id-565381160" shape="rect">AuthRequest</a></p>
<p class="p subheading1" id="id152106871__id-1370546228">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p subheading1" id="id152106871__id1296040783">Header Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1381" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1383" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1385" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1387" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1381" rowspan="1" style="text-align:left;vertical-align:top;">Authorization</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1383" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1385" rowspan="1" style="text-align:left;vertical-align:top;"><ul class="ul">
            <li class="li">Authorization:Basic for type <code class="ph codeph">credentials</code></li>

            <li class="li">Authorization:Bearer for type <code class="ph codeph">refresh</code></li>

            </ul>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1387" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-677716994">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1439" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1441" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1443" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1445" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1439" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1441" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">AuthorizationBasicMissingException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1443" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1445" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that no HTTP Authorization:Basic header was provided.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1439" rowspan="1" style="text-align:left;vertical-align:top;">401</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1441" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">AuthenticationFailedException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1443" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">credentialType (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1445" rowspan="1" style="text-align:left;vertical-align:top;">Indicates in case of type <em class="ph i">credentials</em> the username is unknown or the
             password does not match. In case of type <em class="ph i">session</em> the session is not active anymore or the
             <em class="ph i">dwsecuretoken</em> value is invalid. In both cases the customer is disabled or locked.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1952108998">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1499" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1501" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1499" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.auth.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1501" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (authorizationHeader : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, authRequestType : <a class="xref" href="../../../../Documents/api/class_dw_value_EnumValue.html" shape="rect" target="_blank">
          EnumValue
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the customer has been authenticated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">authorizationHeader - the authorization header. Differs depending on the type:
        <ul class="ul">
        <li class="li">guest - no content relevant to the authentication.</li>

        <li class="li">credentials - Base64 encoded username and password. For example Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=.
        It is possible to extract the username or password: 
 <pre class="pre codeblock" xml:space="preserve"><code>
       var credentials = authHeader.substr(6);
       // cut out Basic
       var base64decoded : String = StringUtils.decodeBase64(credentials, "UTF-8");
       var userName : String = base64decoded.split(":")[0];
       var password : String = base64decoded.split(":")[1];
       </code></pre>
        </li>

        <li class="li">refresh - A refresh token, for example  Authorization: Bearer XXXXXXXXXXXXXXXXXXXXXXX</li>

        <li class="li">session - no content relevant to the authentication. Authentication based on cookies.</li>

        </ul>
</dd>
<dd class="dd pd ddexpand">authRequestType - does the request specify a guest, login or refresh authentication</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1499" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.auth.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1501" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, authRequestType : <a class="xref" href="../../../../Documents/api/class_dw_value_EnumValue.html" shape="rect" target="_blank">
          EnumValue
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after the customer has been authenticated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the authenticated customer</dd>
<dd class="dd pd ddexpand">authRequestType - does the request specify a guest, login or refresh authentication</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1499" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.auth.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1501" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerResponse : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>, authRequestType : <a class="xref" href="../../../../Documents/api/class_dw_value_EnumValue.html" shape="rect" target="_blank">
          EnumValue
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the auth customer</dd>
<dd class="dd pd ddexpand">customerResponse - customer response object</dd>
<dd class="dd pd ddexpand">authRequestType - auth request type enum</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-305772777">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request type guest : obtain a token for a guest customer

REQUEST:
POST /dw/shop/v23_2/customers/auth HTTP/1.1
Host: example.com
Content-Type: application/json

{
  "type" : "guest"
}

# Request type credentials : obtain a token for a registered customer
# Credentials are passed as HTTP Basic in base 64 in the form username:password

REQUEST:
POST /dw/shop/v23_2/customers/auth HTTP/1.1
Host: example.com
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Content-Type: application/json

{
  "type" : "credentials"
}

# Request type session : obtain a token for a session
# session information passed as cookies

REQUEST:
POST /dw/shop/v23_2/customers/auth HTTP/1.1
Host: example.com
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Content-Type: application/json
Cookie: dwsid=pATvWUO3KSdt-Kmcy-8-RsxKnoO4BMDwoec7ACVlW6tZNnhaOL7gt7mHqL-h7QYn5TyE61z0DeSMCqxngsWeHw==;
        dwsecuretoken_9727b83e8e864fa4b6902a37bc70a12d=5Kx5-2P7jj5WoxeTiWwHNBJ6QV39Io5SNA==;

{
  "type" : "session"
}

# Request type refresh : obtain a token in exchange for a token nearing expiration time
# Same mechanism used for guest and registered customer. Client ID needs to
# be provided and is checked against the ID embedded in the token being refreshed.

REQUEST:
POST /dw/shop/v23_2/customers/auth HTTP/1.1
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Host: example.com
Content-Type: application/json

{
  "type" : "refresh"
}


# in case of success, token returned in response header Authorization:Bearer
# "auth_type" is one of "guest" or "registered"

RESPONSE:
HTTP/1.1 200 OK
Content-Length:124 
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer",
   "auth_type" : "guest",
   "customer_id" : "abdtkZzH6sqInJGIHNR1yUw90A",
   "preferred_locale" : "default"
   "visit_id": "498866b15013176451764cbf7f"
}

# in case attempt to refresh an expired token:

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "ExpiredTokenException",
      "message" : "The provided token has expired."
   }
}

# in case no Authorization Basic provided for type "credentials"

RESPONSE:
HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthorizationBasicMissingException",
      "message" : "Missing credentials: Add an Authorization:Basic header with base64 encoded username:password."
   }
}

# in case missing or wrong username/password for type "credentials"

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthenticationFailedException",
      "message" : "Customer authentication based on Authorization:Basic header failed.
   }
}

# in case of an outdated session for type "session"

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthenticationFailedException",
      "message" : "Customer authentication based on session failed.
   }
}

</code></pre></div>

    </div>
<div class="section" id="id152106871__id-1089424522"><h2 class="title sectiontitle">Authorize Trusted System Client</h2>
      
      <p class="p"><!-- --></p>
Obtain the JWTs for registered customers whose credentials are stored using a third party system.
 <ul class="ul">
 <li class="li">Accepts <code class="ph codeph">login_id</code> and <code class="ph codeph">client_id</code></li>

 <li class="li">Returns a customer object in the response body, and the JWT generated against the <code class="ph codeph">client_id</code>
 in the response header. In addition, the returned response will include the hashedLoginId field for Einstein use.</li>

 </ul>

      <p class="p subheading1" id="id152106871__id2022037049">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/auth/trustedsystem</code></pre>
      <p class="p subheading1" id="id152106871__id1522115366">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id321277806">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1734" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1736" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1734" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1736" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id79726657">Request Document</p>
<p class="p"><a class="xref" href="../Documents/TrustedSystemAuthRequest.html#id-1371509592" shape="rect">TrustedSystemAuthRequest</a></p>
<p class="p subheading1" id="id152106871__id766578339">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1144638855">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1794" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1796" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1798" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1800" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1794" rowspan="1" style="text-align:left;vertical-align:top;">401</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1796" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">AuthenticationFailedException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1798" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">credentialType (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1800" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1516583072">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request type credentials : obtain a token for a registered customer

REQUEST:
POST /dw/shop/v23_2/customers/auth/trustedsystem HTTP/1.1
Host: example.com
Authorization: Bearer QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Content-Type: application/json

{
  "login" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="37504252444377525a565e5b1954585a">[email&#160;protected]</a>",
  "client_id": "abdtkZzH6sqInJGIHNR1yUw90A"
}


# in case attempt to refresh an expired token:

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "ExpiredTokenException",
      "message" : "The provided token has expired."
   }
}

# in case no Authorization Basic provided for type "credentials"

RESPONSE:
HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthorizationBasicMissingException",
      "message" : "Missing credentials: Add an Authorization:Basic header with base64 encoded username:password."
   }
}

# in case login or client_id are not provided

RESPONSE:
HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8

{
   "_v": "23.2",
   "fault": {
       "arguments": {
           "document": "trusted_system_auth_request",
           "path": "$.client_id" or "$.login"
       },
       "type": "PropertyConstraintViolationException",
       "message": "An error occurred while decoding the request: value constraint violation of property '$.client_id' or '$.login' in document 'trusted_system_auth_request'."
   }
}

# in case missing or wrong username/login

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthenticationFailedException",
      "message" : "Customer authentication based on Authorization:Basic header failed.
   }
}

# in case of an outdated session for type "session"

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AuthenticationFailedException",
      "message" : "Customer authentication based on session failed.
   }
}

</code></pre></div>

    </div>
<div class="section" id="id152106871__id983246846"><h2 class="title sectiontitle">Register customerExtProfile</h2>
      
      <p class="p"><!-- --></p>
<p class="p">Register a customerExtProfile.
 The mandatory data are the external_id and authentication_provider_id.</p>

 <p class="p">While using JWT the guest JWT needs to be used.</p>

 <p class="p">This will not be supporting hooks</p>

      <p class="p subheading1" id="id152106871__id229946545">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/ext_profile</code></pre>
      <p class="p subheading1" id="id152106871__id-404453986">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1108986378">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1868" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1870" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1868" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1870" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-14619447">Request Document</p>
<p class="p"><!-- --></p>
<p class="p subheading1" id="id152106871__id2136816411">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomersExtProfile.html#id338828258" shape="rect">CustomersExtProfile</a></p>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-580076529">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerAlreadyRegisteredException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the resource is called with JWT
             representing a registered customer and not a guest JWT.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingAuthenticationProviderException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that request document does not contain authentication_provider_id.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingExternalIDException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that request document does not contain External_id.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerExtProfileException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that customerExtProfileCreation failed.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidEmailException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">email (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the email sent in through the request document is not valid.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidLoginException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that login doesn't match acceptance criteria.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e1922" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1924" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">LoginAlreadyInUseException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e1926" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e1928" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the given login already exists.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-208132312">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request create customer ext profile : guest shopper JWT

REQUEST:
POST /dw/shop/v23_2/customers/ext_profile HTTP/1.1
Host: example.com
Authorization: Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX
Content-Type: application/json
{
  	 "authentication_provider_id" : "Google",
  	 "external_id" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97e3f2e4e3d4e2e4e3f8faf2e5d7e3f2e4e3b9f4f8fa">[email&#160;protected]</a>",
  	 "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5521302621162026213a38302715213026217b363a38">[email&#160;protected]</a>",
  	 "first_name" : "John",
  	 "last_name" : "Doe"
}

# in case of success:
RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "_type": "customers_ext_profile",
    "authentication_provider_id": "Google",
    "first_name" : "John",
    "last_name" : "Doe",
    "creation_date": "2020-07-09T05:27:55.563Z",
    "customer_id": "bfqcN48dn2y4EaV9Qj5bNpVJVj",
    "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1266776166516761667d7f776052667761663c717d7f">[email&#160;protected]</a>",
    "external_id": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1367766067506660677c7e766153677660673d707c7e">[email&#160;protected]</a>",
    "last_modified": "2020-07-09T05:27:55.563Z"
   
}

# in case of invalid token:

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "fault": {
        "arguments": {
            "accessToken": "eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX"
        },
        "type": "InvalidAccessTokenException",
        "message": "The request is unauthorized, the access token is invalid."
    }
}

# in case of a bad request:

RESPONSE:
HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "fault": {
        "arguments": {
            "email": "foo"
        },
        "type": "InvalidEmailException",
        "message": "The profile email address 'foo' isn't valid."
    }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id350079124"><h2 class="title sectiontitle">Get customerExtProfile</h2>
      
      <p class="p"><!-- --></p>
Gets the customerExtProfile based on the passed in query parameters of external_id and authentication_provider_id
      <p class="p subheading1" id="id152106871__id1026704475">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/ext_profile?external_id={String}&amp;authentication_provider_id={String}</code></pre>
      <p class="p subheading1" id="id152106871__id-111267768">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1168185356">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2043" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2045" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2043" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2045" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1943463611">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomersExtProfile.html#id338828258" shape="rect">CustomersExtProfile</a></p>
<p class="p subheading1" id="id152106871__id120803925">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2084" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2086" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2088" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2090" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2084" rowspan="1" style="text-align:left;vertical-align:top;">authentication_provider_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2086" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2088" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2090" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2084" rowspan="1" style="text-align:left;vertical-align:top;">external_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2086" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2088" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2090" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1646138405">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2140" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2142" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2144" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2146" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2140" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2142" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingAuthenticationProviderException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2144" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2146" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that authentication_provider_id is not provided.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2140" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2142" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">MissingExternalIDException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2144" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2146" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that External_id is not provided.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id2018082622">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request get customer ext profile 

REQUEST:
GET /dw/shop/v23_2/customers/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3e5b464a614e4c515857525b015b464a5b4c505f5261575a034a5b4d4a7d4b4d4a51535b4c7e4a5b4d4a105d5153">[email&#160;protected]</a>&amp;authentication_provider_id=Google HTTP/1.1
Host: example.com
Authorization: Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX

# in case of success:
RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "_type": "customers_ext_profile",
    "authentication_provider_id": "Google",
    "first_name": "John",
    "last_name": "Doe",
    "creation_date": "2020-07-09T05:27:55.563Z",
    "customer_id": "bfqcN48dn2y4EaV9Qj5bNpVJVj",
    "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9cddccacdfacccacdd6d4dccbf9cddccacd97dad6d4">[email&#160;protected]</a>",
    "external_id": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="deaabbadaa9dabadaab1b3bbac9eaabbadaaf0bdb1b3">[email&#160;protected]</a>",
    "last_modified": "2020-07-09T05:27:55.563Z"
   
}

# in case of invalid token:

RESPONSE:
HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "fault": {
        "arguments": {
            "accessToken": "eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX"
        },
        "type": "InvalidAccessTokenException",
        "message": "The request is unauthorized, the access token is invalid."
    }
}



</code></pre></div>

    </div>
<div class="section" id="id152106871__id1716137738"><h2 class="title sectiontitle">Starts a password reset process</h2>
      
      <p class="p"><!-- --></p>
First the beforePOST hook is called. After that the validation of the 
 customer information provided in the the password reset document is performed. 
 Then a password reset token is generated and together with the resolved 
 customer is passed to a afterPOST hook. The customer resolution is based 
 on the password reset request type. Both hooks are performed in a single
 transaction.
 Currently the resolution can be done by email or login. In case of
 an email the password reset hook is only executed if one and only one
 customer has been identified for that email. In the case that more than
 one customers have been identified for the provided email the resource
 does nothing.
      <p class="p subheading1" id="id152106871__id-1831222747">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/password_reset</code></pre>
      <p class="p subheading1" id="id152106871__id270383378">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-2121926654">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2214" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2216" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2214" rowspan="1" style="text-align:left;vertical-align:top;">None</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2216" rowspan="1" style="text-align:left;vertical-align:top;">No authentication.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1507351509">Request Document</p>
<p class="p"><a class="xref" href="../Documents/PasswordReset.html#id-685791861" shape="rect">PasswordReset</a></p>
<p class="p subheading1" id="id152106871__id-1908754167">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2255" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2257" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2255" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customers.password_reset.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2257" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (passwordReset : <a class="xref" href="../Documents/PasswordReset.html" shape="rect">
          PasswordReset
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">Allows resetting a customers password. The validation of the customer information provided in the the password 
 reset document is done after this hook is called.</p>
<dl class="dl parml">
        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2255" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customers.password_reset.afterPOST</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2257" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, resetToken : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<div class="p">Allows resetting a customers password. See the example below sending an email with a password reset link.

 <pre class="pre" xml:space="preserve"> var variables: Map = new dw.util.HashMap();
 variables.put("Customer", customer);
 variables.put("ResetPasswordToken", token);
 var template: Template = new dw.util.Template("mail/resetpasswordemail.isml");
 var content: MimeEncodedText = template.render(variables);
 var mail: Mail = new Mail().setSubject("Password Reset").setContent(content).setFrom("<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="452b2a372035293c053624292036232a3726206b262a28">[email&#160;protected]</a>").addTo(customer.profile.email);
 mail.send();
 </pre>
</div>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to reset the password</dd>
<dd class="dd pd ddexpand">resetToken - the token generated by the system to be used for the reset</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id644920628">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>#
# Example: Password reset
#
REQUEST:
POST /dw/shop/v23_2/customers/password_reset HTTP/1.1
Host: example.com
Authorization: Bearer af7f5c90-ffc1-4ea4-9613-f5b375b7dc19
Content-Type: application/json; charset=UTF-8

{"identification": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9af0e9f7f3eef2daf4f5f4ffe2f3e9eeb4f9f5f7">[email&#160;protected]</a>", "type":"email"}

# in case of success:

RESPONSE:
HTTP/1.1 204 NO CONTENT

# in case of password reset failure in hook dw.ocapi.shop.customers.password_reset.afterPOST.
# The wrong status with code and message is returned by the custom code.

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "extensionPoint" : "dw.ocapi.shop.customers.password_reset.afterPOST",
         "statusCode" : "EXT_PW_CHANGE_FAIL",
         "statusMessage" : "Password reset not successful in external system."
      },
      "type" : "HookStatusException",
      "message" : "Error in ExtensionPoint 'dw.ocapi.shop.customers.password_reset.afterPOST'!"
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-188506781"><h2 class="title sectiontitle">Get a Customer</h2>
      
      <p class="p"><!-- --></p>
Gets a customer.
      <p class="p subheading1" id="id152106871__id2011826476">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}?expand={String}</code></pre>
      <p class="p subheading1" id="id152106871__id-703257447">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1294915227">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2391" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2393" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2391" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2393" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2391" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2393" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1810129834">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p subheading1" id="id152106871__id-1306547583">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2437" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2439" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2441" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2443" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2437" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2439" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2441" rowspan="1" style="text-align:left;vertical-align:top;">The customer id</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2443" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1649125668">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2476" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2478" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2480" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2482" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2476" rowspan="1" style="text-align:left;vertical-align:top;">expand</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2478" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2480" rowspan="1" style="text-align:left;vertical-align:top;">The expand parameter. A comma separated list with the allowed
            values (<em class="ph i">addresses, paymentinstruments</em>).</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2482" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1904136628">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2527" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2529" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2531" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2533" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2527" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2529" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2531" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2533" rowspan="1" style="text-align:left;vertical-align:top;">If customerId URL parameter does not match the verified
             customer represented by the JWT (not relevant when
             using OAuth).</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2527" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2529" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2531" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2533" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-551607472">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2577" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2579" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2577" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2579" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - The customer id</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2577" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2579" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerResponse : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerResponse - customer response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-2018886451">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/1234567890?expand=addresses,paymentinstruments HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type: application/json; charset=UTF-8

# in case of success:
 
RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer",
   "adresses" : 
   [
      {
         "_type" : "customer_address",
         "address1" : "10 Presidential Way",
         "address_id" : "me",
         "city" : "Woburn",
         "country_code" : "US",
         "first_name" : "John",
         "full_name" : "John M. Smith",
         "last_name" : "Smith",
         "postal_code" : "01827",
         "salutation" : "Mr.",
         "state_code" : "MA"
      }
   ],
   "auth_type" : "registered",
   "creation_date" : "2015-08-20T11:30:36.000Z",
   "customer_id" : "abfTWMDZOgi3JPzkHjv9IhmziI",
   "customer_no" : "999",
   "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0f657c62667b674f7c6e636a7c69607d6c6a216c6062">[email&#160;protected]</a>",
   "first_name" : "John",
   "gender" : 1,
   "last_name" : "Smith",
   "payment_instruments" : 
   [
      {
         "_type" : "customer_payment_instrument",
         "payment_bank_account" : 
         {
            "_type" : "payment_bank_account"
         },
         "payment_card" : 
         {
            "_type" : "payment_card",
            "card_type" : "Visa",
            "credit_card_expired" : false,
            "expiration_month" : 2,
            "expiration_year" : 2022,
            "holder" : "John Smith",
            "masked_number" : "***********ber2",
            "number_last_digits" : "ber2"
         },
         "payment_instrument_id" : "beybQiWcyatEEaaadniwhKxxFl",
         "payment_method_id" : "CREDIT_CARD",
         "uuid" : "beybQiWcyatEEaaadniwhKxxFl",
      }
   ],
   "phone_business" : "234560003",
   "phone_home" : "123450003",
   "phone_mobile" : "345670003",
   "c_origin" : "webshop"
}

# in case the authorized customer differs from the customer requested:
 
RESPONSE:
HTTP/1.1 400 BAD REQUEST
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
{
  "_v" : "23.2",
  "_type":"fault",
  "fault":{
    "type":"InvalidCustomerException",
    "message":"Invalid customer."
  }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id821659605"><h2 class="title sectiontitle">Update a Customer</h2>
      
      <p class="p"><!-- --></p>
Updates a customer. This endpoint can't update login credentials.
      <p class="p subheading1" id="id152106871__id1042788730">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PATCH https://hostname:port/dw/shop/v23_2/customers/{customer_id}</code></pre>
      <p class="p subheading1" id="id152106871__id2039084519">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id460886413">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2719" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2721" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2719" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2721" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2719" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2721" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1099611808">Request Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p subheading1" id="id152106871__id-1976720348">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p subheading1" id="id152106871__id-1391637041">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2774" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2776" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2778" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2780" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2774" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2776" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2778" rowspan="1" style="text-align:left;vertical-align:top;">the customer id</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2780" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-224158042">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2823" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2825" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e2827" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2829" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2823" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2825" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2827" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2829" rowspan="1" style="text-align:left;vertical-align:top;">If customerId URL parameter does not match the verified
             customer represented by the JWT, not relevant when
             using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2823" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2825" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidEmailException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e2827" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">email (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2829" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the provided email is not valid.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2823" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2825" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e2827" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2829" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id806961694">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e2884" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e2886" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2884" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.beforePATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2886" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerInput : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before a
 customer is updated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer to be updated</dd>
<dd class="dd pd ddexpand">customerInput - the input customer containing the patch changes</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e2884" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.afterPATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e2886" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerInput : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after a
 customer was updated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer to be updated</dd>
<dd class="dd pd ddexpand">customerInput - the input customer containing the patch changes</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e2884" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.modifyPATCHResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e2886" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPATCHResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerResponse : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerResponse - customer response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id147786175">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PATCH /dw/shop/v23_2/customers/1234567890 HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type: application/json
{
   "_resource_state" : "847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb",
   "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2a405947435e426a594b464f594c4558494f04494547">[email&#160;protected]</a>",
   "fax" : "+49 03641 78393 343",
   "c_origin" :"webshop"
}
# in case of success

RESPONSE:
HTTP/1.1 200 OK
Content-Length:124 
Content-Type:application/json;charset=UTF-8
{
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "auth_type" : "registered",
   "creation_date" : "2015-08-20T11:30:36.000Z",
   "customer_id" : "abfTWMDZOgi3JPzkHjv9IhmziI",
   "customer_no" : "999",
   "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="670d140a0e130f2714060b021401081504024904080a">[email&#160;protected]</a>",
   "fax" : "+49 03641 78393 343",
   "first_name" : "John",
   "gender" : 1,
   "last_name" : "Smith",
   "phone_business" : "234560003",
   "phone_home" : "123450003",
   "phone_mobile" : "345670003",
   "c_origin" : "webshop"
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1478619760"><h2 class="title sectiontitle">Get all customer addresses</h2>
      
      <p class="p"><!-- --></p>
Returns a sorted pageable list of all customer addresses in the address book. The default page size is 10
 customer addresses. The addresses are sorted so that the preferred address is always sorted first. The remaining
 addresses are sorted alphabetically by ID.
 <p class="lines pdfonly"><!-- --></p>

 When the customer cannot be found <code class="ph codeph">CustomerNotFoundException</code>
 is thrown in a case of an agent but an empty result list is returned in a case of JWT.
      <p class="p subheading1" id="id152106871__id376798463">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/addresses?start={Integer}&amp;count={Integer}</code></pre>
      <p class="p subheading1" id="id152106871__id-1756596500">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-562507544">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3090" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3092" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3090" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3092" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3090" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3092" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id66740969">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddressResult.html#id-1388692628" shape="rect">CustomerAddressResult</a></p>
<p class="p subheading1" id="id152106871__id1242888660">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3137" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3139" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3141" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3143" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3137" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3139" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3141" rowspan="1" style="text-align:left;vertical-align:top;">The customer uuid</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3143" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-922729423">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3176" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3178" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3180" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3182" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3176" rowspan="1" style="text-align:left;vertical-align:top;">count</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3178" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3180" rowspan="1" style="text-align:left;vertical-align:top;">The maximum number of instances per request. Default value is 25.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3182" rowspan="1" style="text-align:left;vertical-align:top;">maxIntegerValue=200, minIntegerValue=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3176" rowspan="1" style="text-align:left;vertical-align:top;">start</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3178" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3180" rowspan="1" style="text-align:left;vertical-align:top;">The result set index to return the first instance for. Default value is 0.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3182" rowspan="1" style="text-align:left;vertical-align:top;">maxIntegerValue=999, minIntegerValue=0</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id2008705281">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3233" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3235" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3237" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3239" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3233" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3235" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3237" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3239" rowspan="1" style="text-align:left;vertical-align:top;">If customerId URL parameter does not match the verified customer represented by
             the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3233" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3235" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3237" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3239" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-2135544989">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3283" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3285" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3283" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.addresses.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3285" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3283" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.addresses.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3285" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customerAddressResultResponse : <a class="xref" href="../Documents/CustomerAddressResult.html" shape="rect">
          CustomerAddressResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerAddressResultResponse - customer addresses result response</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1914317798">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request, no paging details

REQUEST:
GET /dw/shop/v23_2/customers/abdlkQCKV1aEqUQoeFOwAOeD4U/addresses HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json;charset=UTF-8

# Request, with paging details

REQUEST:
GET /dw/shop/v23_2/customers/abdlkQCKV1aEqUQoeFOwAOeD4U/addresses?start=0&amp;count=1 HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json;charset=UTF-8


# in case of success
# note: "next" and / or "previous" links only exist when appropriate, and only if paging details were provided

RESPONSE:
HTTP/1.1 200 OK
Content-Type:application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_type" : "customer_address_result",
   "count" : 1,
   "data" : 
   [
      {
         "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
         "_type" : "customer_address",
         "address1" : "10 Free Way",
         "address_id" : "private",
         "city" : "Woburn",
         "country_code" : "US",
         "first_name" : "James",
         "full_name" : "James Last",
         "last_name" : "Last",
         "postal_code" : "01827",
         "salutation" : "Mr.",
         "state_code" : "MA"
      }
   ],
   "next" : "https://example.com/dw/shop/v23_2/customers/abdlkQCKV1aEqUQoeFOwAOeD4U/addresses?count=1&amp;start=1",
   "start" : 0,
   "total" : 2
}


</code></pre></div>

    </div>
<div class="section" id="id152106871__id738820826"><h2 class="title sectiontitle">Create customer address</h2>
      
      <p class="p"><!-- --></p>
Creates a new address with the given name for the given customer.
      <p class="p subheading1" id="id152106871__id-1496048555">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/addresses</code></pre>
      <p class="p subheading1" id="id152106871__id-1912636606">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-222404654">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3421" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3423" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3421" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3423" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3421" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3423" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1586892709">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddress.html#id-1680957111" shape="rect">CustomerAddress</a></p>
<p class="p subheading1" id="id152106871__id244085695">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddress.html#id-1680957111" shape="rect">CustomerAddress</a></p>
<p class="p subheading1" id="id152106871__id-1098823638">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3476" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3478" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3480" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3482" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3476" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3478" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3480" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to create the address for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3482" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-351632917">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3525" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3527" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3529" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3531" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3525" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3527" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3529" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3531" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3525" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3527" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerAddressIdException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3529" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">addressId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3531" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that address name is not provided or it's blank.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3525" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3527" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">AddressIdAlreadyInUseException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3529" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3531" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the provided address name is already used for the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3525" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3527" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3529" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3531" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1016195271">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3595" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3597" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3595" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.addresses.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3597" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, customerAddress : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before adding an address to
 a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to add the address</dd>
<dd class="dd pd ddexpand">addressName - the name of the address to be added</dd>
<dd class="dd pd ddexpand">customerAddress - the customer address request data</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3595" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.addresses.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3597" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, customerAddress : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after adding an address to a
 customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom the address was added</dd>
<dd class="dd pd ddexpand">addressName - the name of the address which was added</dd>
<dd class="dd pd ddexpand">customerAddress - the customer address request data</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3595" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3597" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerAddress : <a class="xref" href="../../../../Documents/api/class_dw_customer_CustomerAddress.html" shape="rect" target="_blank">
          CustomerAddress
        </a>, customerAddressResponse : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>, customerAddressRequest : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before returning response.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom the address was added.</dd>
<dd class="dd pd ddexpand">customerAddress - created customer address</dd>
<dd class="dd pd ddexpand">customerAddressResponse - customer address response object.</dd>
<dd class="dd pd ddexpand">customerAddressRequest - the customer address request object.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id20311300">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json
{
  "address_id": "home_address",
  "address1" : "5 Wall St",
  "address2" : "24 Presidential Way",
  "city" : "Burlington",
  "company_name" : "Salesforce Commerce Cloud",
  "country_code" : "US",
  "first_name": "John",
  "job_title" : "Developer",
  "last_name" : "Murphy",
  "phone" : "408-555-1212",
  "postal_code" : "01805",
  "post_box" : "12a",
  "preferred" : false,
  "salutation" : "Mr.",
  "second_name" : "Jim",
  "state_code": "MA",
  "title": "Dr."
}

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_address",
   "address1" : "5 Wall St",
   "address2" : "24 Presidential Way",
   "address_id" : "home_address",
   "city" : "Burlington",
   "company_name" : "Salesforce Commerce Cloud",
   "country_code" : "US",
   "first_name" : "John",
   "full_name" : "John Jim Murphy",
   "job_title" : "Developer",
   "last_name" : "Murphy",
   "phone" : "408-555-1212",
   "postal_code" : "01805",
   "post_box" : "12a",
   "preferred" : false,
   "salutation" : "Mr.",
   "second_name" : "Jim",
   "state_code" : "MA",
   "title" : "Dr."
}

# in case of validation failure - example response in case address_id is already used for this customer:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "AddressNameAlreadyInUseException",
      "message" : "The customer address name is already in use."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-832492301"><h2 class="title sectiontitle">Get customer address</h2>
      
      <p class="p"><!-- --></p>
Retrieves a customer's address by address name.
      <p class="p subheading1" id="id152106871__id-1636855908">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/addresses/{address_name}</code></pre>
      <p class="p subheading1" id="id152106871__id-1735265527">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1412306389">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3825" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3827" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3825" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3827" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3825" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3827" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1753407802">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddress.html#id-1680957111" shape="rect">CustomerAddress</a></p>
<p class="p subheading1" id="id152106871__id668928241">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3871" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3873" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3875" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3877" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3871" rowspan="1" style="text-align:left;vertical-align:top;">address_name</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3873" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3875" rowspan="1" style="text-align:left;vertical-align:top;">the name of the address to retrieve</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3877" rowspan="1" style="text-align:left;vertical-align:top;">maxLength=256, minLength=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3871" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3873" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3875" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to retrieve the address for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3877" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1039562052">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3929" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3931" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e3933" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3935" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3929" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3931" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3933" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3935" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3929" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3931" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e3933" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3935" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3929" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3931" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerAddressNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e3933" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">addressId (String)</p>
<p class="p">customerNo (String)</p>
<p class="p">siteId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3935" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the address with the given name in unknown for the
             customer with the given customer id.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1023630784">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e3994" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e3996" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e3994" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e3996" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerAddress - target customer address</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e3994" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e3996" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerAddress : <a class="xref" href="../../../../Documents/api/class_dw_customer_CustomerAddress.html" shape="rect" target="_blank">
          CustomerAddress
        </a>, customerAddressResponse : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerAddress - target customer address</dd>
<dd class="dd pd ddexpand">customerAddressResponse - customer address response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1411506269">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/home_address HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_address",
   "address1" : "5 Wall St",
   "address2" : "24 Presidential Way",
   "address_id" : "59aed97608cf7f72",
   "address_id" : "home_address",
   "city" : "Burlington",
   "company_name" : "Salesforce Commerce Cloud",
   "country_code" : "US",
   "first_name" : "John",
   "full_name" : "John J. Murphy",
   "job_title" : "Developer",
   "last_name" : "Murphy",
   "phone" : "408-555-1212",
   "postal_code" : "01805",
   "post_box" : "12a",
   "preferred" : false,
   "salutation" : "Mr.",
   "second_name" : "J.",
   "state_code" : "MA",
   "title" : "Dr."
}

# in case of validation failure - example response in case of unknown address:

RESPONSE:
HTTP/1.1 404 NOT FOUND
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "NotFoundException",
      "message" : "The customer address 'home_address' could not be found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-991325090"><h2 class="title sectiontitle">Delete customer address</h2>
      
      <p class="p"><!-- --></p>
Deletes a customer's address by address name.
      <p class="p subheading1" id="id152106871__id-370512815">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>DELETE https://hostname:port/dw/shop/v23_2/customers/{customer_id}/addresses/{address_name}</code></pre>
      <p class="p subheading1" id="id152106871__id-1120572098">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1791982166">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4148" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4150" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4148" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4150" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4148" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4150" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1217625638">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4185" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4187" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4189" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4191" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4185" rowspan="1" style="text-align:left;vertical-align:top;">address_name</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4187" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4189" rowspan="1" style="text-align:left;vertical-align:top;">the name of the address to delete</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4191" rowspan="1" style="text-align:left;vertical-align:top;">maxLength=256, minLength=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4185" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4187" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4189" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to delete the address for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4191" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-326082449">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4242" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4244" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4246" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4248" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4242" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4244" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4246" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4248" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4242" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4244" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4246" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4248" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4242" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4244" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerAddressNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4246" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">addressId (String)</p>
<p class="p">customerNo (String)</p>
<p class="p">siteId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4248" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the address with the given name in unknown for the
             customer with the given customer id.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-951215051">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4308" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4310" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4308" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.beforeDELETE</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4310" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before removing an address
 of a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to delete the address</dd>
<dd class="dd pd ddexpand">addressName - the name of the address to be deleted</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4308" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.afterDELETE</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4310" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after removing an address
 of a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom the address was deleted</dd>
<dd class="dd pd ddexpand">addressName - the name of the address which was deleted</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id45861768">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
DELETE /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/home_address HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json
x-dw-resource-state: 847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb

# in case of success:

RESPONSE:
HTTP/1.1 204 NO CONTENT

# in case of validation failure - example response in case of registered customer scenario when the customer ID does not match the authenticated customer id:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-1064466751"><h2 class="title sectiontitle">Update customer address</h2>
      
      <p class="p"><!-- --></p>
Updates a customer's address by address name.
      <p class="p subheading1" id="id152106871__id-1785316594">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PATCH https://hostname:port/dw/shop/v23_2/customers/{customer_id}/addresses/{address_name}</code></pre>
      <p class="p subheading1" id="id152106871__id-55470725">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-142736519">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4454" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4456" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4454" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4456" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4454" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4456" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id838559116">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddress.html#id-1680957111" shape="rect">CustomerAddress</a></p>
<p class="p subheading1" id="id152106871__id-1479419208">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerAddress.html#id-1680957111" shape="rect">CustomerAddress</a></p>
<p class="p subheading1" id="id152106871__id1370888547">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4509" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4511" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4513" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4515" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4509" rowspan="1" style="text-align:left;vertical-align:top;">address_name</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4511" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4513" rowspan="1" style="text-align:left;vertical-align:top;">the name of the address to update</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4515" rowspan="1" style="text-align:left;vertical-align:top;">maxLength=256, minLength=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4509" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4511" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4513" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to update the address for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4515" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id2063580306">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4567" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4569" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4571" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4573" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4567" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4569" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4571" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4573" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4567" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4569" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">AddressIdAlreadyInUseException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4571" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4573" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the provided new address name is already used for the
             customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4567" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4569" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e4571" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4573" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4567" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4569" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerAddressNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4571" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">addressId (String)</p>
<p class="p">customerNo (String)</p>
<p class="p">siteId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4573" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the address with the given name in unknown for the
             customer with the given customer id.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id233300658">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4641" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4643" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4641" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.beforePATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4643" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, customerAddress : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before updating an address
 of a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to update the address</dd>
<dd class="dd pd ddexpand">addressName - the name of the address to be updated</dd>
<dd class="dd pd ddexpand">customerAddress - the customer address request data</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4641" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.afterPATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4643" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, addressName : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, customerAddress : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after updating an address of
 a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom the address was updated</dd>
<dd class="dd pd ddexpand">addressName - the name of the address which was updated</dd>
<dd class="dd pd ddexpand">customerAddress - the customer address request data</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4641" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.address.modifyPATCHResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4643" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPATCHResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerAddress : <a class="xref" href="../../../../Documents/api/class_dw_customer_CustomerAddress.html" shape="rect" target="_blank">
          CustomerAddress
        </a>, customerAddressResponse : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>, customerAddressRequest : <a class="xref" href="../Documents/CustomerAddress.html" shape="rect">
          CustomerAddress
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerAddress - target customer address</dd>
<dd class="dd pd ddexpand">customerAddressResponse - customer address response object</dd>
<dd class="dd pd ddexpand">customerAddressRequest - customer address request object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1859442773">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PATCH /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/home_address HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json
{
  "_resource_state" : "847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb",
  "address_id" : "home_address",
  "address1" : "6 Wall St",
  "address2" : "26 Presidential Way",
  "city" : "Burlington",
  "company_name" : "Salesforce Commerce Cloud",
  "country_code" : "US",
  "first_name": "John",
  "job_title" : "Developer",
  "last_name" : "Murphy",
  "phone" : "408-555-1212",
  "postal_code" : "01805",
  "post_box" : "12b",
  "preferred" : false,
  "salutation" : "Mr.",
  "second_name" : "Jim",
  "state_code": "MA",
  "title": "Dr."
}

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_address",
   "address1" : "6 Wall St",
   "address2" : "26 Presidential Way",
   "address_id" : "home_address",
   "city" : "Burlington",
   "company_name" : "Salesforce Commerce Cloud",
   "country_code" : "US",
   "first_name" : "John",
   "full_name" : "John Jim Murphy",
   "job_title" : "Developer",
   "last_name" : "Murphy",
   "phone" : "408-555-1212",
   "postal_code" : "01805",
   "post_box" : "12b",
   "preferred" : false,
   "salutation" : "Mr.",
   "second_name" : "Jim",
   "state_code" : "MA",
   "title" : "Dr."
}

# in case of validation failure - example response in case of attempt to update non-existing address:

RESPONSE:
HTTP/1.1 404 NOT FOUND
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "NotFoundException",
      "message" : "Customer address 'home_address' not found."
   }
}

REQUEST:
PATCH /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/home_address HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json
{
  "_resource_state" : "847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb",
  "address_id" : "old_home_address",
}

# in case of success:

RESPONSE:
HTTP/1.1 301 MOVED PERMANENTLY
Location: /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/old_home_address
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_address",
   "address1" : "6 Wall St",
   "address2" : "26 Presidential Way",
   "address_id" : "old_home_address",
   "city" : "Burlington",
   "company_name" : "Salesforce Commerce Cloud",
   "country_code" : "US",
   "first_name" : "John",
   "full_name" : "John Jim Murphy",
   "job_title" : "Developer",
   "last_name" : "Murphy",
   "phone" : "408-555-1212",
   "postal_code" : "01805",
   "post_box" : "12b",
   "preferred" : false,
   "salutation" : "Mr.",
   "second_name" : "Jim",
   "state_code" : "MA",
   "title" : "Dr."
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-1055795270"><h2 class="title sectiontitle">Get an agent on behalf of customer token</h2>
      
      <p class="p"><!-- --></p>
<p class="p">
 Obtains a new agent on behalf token for a registered customer. Token is returned as a HTTP Authorization:Bearer
 response header entry.
 </p>

 <p class="p">
 A token is created and returned to the client whenever an agent with <code class="ph codeph">Create_Order_On_Behalf_Of</code>
 permission calls the resource for a registered customer.
 </p>

 <p class="p">
 The token is returned in the response header as <code class="ph codeph">Authorization: Bearer --token--</code>.
 </p>

 <p class="p">
 The client has to include the token in the request header as <code class="ph codeph">Authorization: Bearer --token--</code>
 </p>

 in any follow up request, the agent will do on behalf of the customer.
 <p class="p subheading1">
 About the order on behalf token
 </p>

 <p class="p">
 The token contains 3 sections:
 </p>

 <ul class="ul">
 <li class="li">the <em class="ph i">header</em> section (specifies token type and algorithm used)</li>

 <li class="li">the <em class="ph i">payload</em> section (contains customer information, client id, issue and expiration time)</li>

 <li class="li">finally the <em class="ph i">signature</em> section records the token signature.</li>

 </ul>

 <p class="p">
 A token nearing its expiration time should be exchanged for a new one by calling this resource once more.
 </p>

      <p class="p subheading1" id="id152106871__id-1151263883">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/auth</code></pre>
      <p class="p subheading1" id="id152106871__id-2017990046">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1197429582">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4919" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4921" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e4919" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e4921" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT. A valid user is required.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4919" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4921" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id140278495">Response Document</p>
<p class="p"><a class="xref" href="../Documents/Customer.html#id139261643" shape="rect">Customer</a></p>
<p class="p subheading1" id="id152106871__id-1259825334">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e4965" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4967" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e4969" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e4971" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e4965" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4967" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e4969" rowspan="1" style="text-align:left;vertical-align:top;">specifies the customer to act on behalf of</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e4971" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id60730969">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5005" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5007" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5005" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.auth.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5007" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the customer has been authenticated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer that is authenticated</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5005" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.auth.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5007" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after the customer has been authenticated.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer that is authenticated</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5005" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.auth.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5007" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerResponse : <a class="xref" href="../Documents/Customer.html" shape="rect">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerResponse - customer response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-2061297180">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/acI4Lg0fMrBZ6shBanPpvkIKHZ/auth HTTP/1.1
Host: example.com
Authorization: Bearer 26b89022-d8e2-4399-8b78-b3304aa3af3e
Content-Length: 0

RESPONSE:
HTTP/1.1 200 OK
Content-Length:124 
Authorization:Bearer eyJfdiI6IjEiLCJhbGciOiJSUzI1NiIsInR5cCI6IkpXUyJ9... 
Content-Type:application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer",
   "auth_type" : "registered",
   "creation_date" : "2012-03-30T08:23:51.000Z",
   "customer_id" : "acI4Lg0fMrBZ6shBanPpvkIKHZ",
   "customer_no" : "00001140",
   "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bed3dfd7d2fedbc6dfd3ced2db90ddd1d3">[email&#160;protected]</a>",
   "enabled" : true,
   "first_name" : "John",
   "hashed_login": "66384ebc60778d647d9ceec5bba937ee409be16740669345c287df1abbf00724",
   "gender" : 1,
   "last_login_time" : "2012-04-05T06:08:38.000Z",
   "last_name" : "Doe",
   "last_visit_time" : "2012-04-05T06:08:38.000Z",
   "login" : "johndoe",
   "previous_login_time" : "2012-04-05T06:08:38.000Z",
   "previous_visit_time" : "2012-04-05T06:08:38.000Z",
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-1657198395"><h2 class="title sectiontitle">Get customer basket</h2>
      
      <p class="p"><!-- --></p>
Gets the baskets of a customer.
      <p class="p subheading1" id="id152106871__id1051798154">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/baskets</code></pre>
      <p class="p subheading1" id="id152106871__id-1215273225">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id227790461">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5188" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5190" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5188" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5190" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5188" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5190" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1176108748">Response Document</p>
<p class="p"><a class="xref" href="../Documents/BasketsResult.html#id505244885" shape="rect">BasketsResult</a></p>
<p class="p subheading1" id="id152106871__id-27676961">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5234" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5236" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5238" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5240" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5234" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5236" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5238" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to retrieve the baskets for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5240" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1887619990">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5283" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5285" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5287" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5289" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5283" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5285" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5287" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5289" rowspan="1" style="text-align:left;vertical-align:top;">if customerId URL parameter does not match the verified
             customer represented by the JWT, not relevant when
             using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5283" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5285" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5287" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5289" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1076537134">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5333" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5335" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5333" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.baskets.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5335" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the baskets result retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5333" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.baskets.modifyGETResponse_v2</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5335" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v2</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerBasketsResultResponse : <a class="xref" href="../Documents/BasketsResult.html" shape="rect">
          BasketsResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the baskets result retrieved for.</dd>
<dd class="dd pd ddexpand">customerBasketsResultResponse - customer basket result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-2035403089">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request

REQUEST:
GET /dw/shop/v23_2/customers/abdlkQCKV1aEqUQoeFOwAOeD4U/baskets HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json;charset=UTF-8

# in case of success

RESPONSE:
HTTP/1.1 200 OK
Content-Type:application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "baskets_result",
   "baskets" : 
   [
      {
         "_type" : "basket",
          "basket_id" : "bccO1aOjgEnuIaaadk7pYO2rFE",
 ...      
      },
      
      {
         "_type" : "basket",
         "basket_id" : "bcs5vaOjgEQ9Uaaadk9zQIrXE6",
...            
      }
   ],
   "total" : 2
}

</code></pre></div>

    </div>
<div class="section" id="id152106871__id1011527047"><h2 class="title sectiontitle">Get orders of customer</h2>
      
      <p class="p"><!-- --></p>
Returns a pageable list of all customer's orders. The default page size is 10.
      <p class="p subheading1" id="id152106871__id911824520">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/orders?start={Integer}&amp;count={Integer}&amp;cross-sites={Boolean}&amp;from={String}&amp;until={String}&amp;status={String}</code></pre>
      <p class="p subheading1" id="id152106871__id119956469">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1242245185">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5475" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5477" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5475" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5477" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5475" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5477" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id773478578">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerOrderResult.html#id-436005358" shape="rect">CustomerOrderResult</a></p>
<p class="p subheading1" id="id152106871__id1645858269">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5521" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5523" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5525" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5527" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5521" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5523" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5525" rowspan="1" style="text-align:left;vertical-align:top;">the customer uuid</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5527" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1315573432">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">count</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">the maximum number of instances per request; default value is 10</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;">maxIntegerValue=200, minIntegerValue=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">cross-sites</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">Boolean</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">the flag whether all sites should be searched; ignored in case of JWT; default value is
            <code class="ph codeph">false</code></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">from</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">The from date specifying the date time range to filter orders (inclusive, null allowed, ISO8601 date
            time format: yyyy-MM-dd'T'HH:mmZ).</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">start</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">the result set index to return the first instance for; default value is 0</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;">minIntegerValue=0</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">status</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">The order status of the orders to be retrieved. Status included: created, new, open, completed,
            cancelled, replaced, failed.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5560" rowspan="1" style="text-align:left;vertical-align:top;">until</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5562" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5564" rowspan="1" style="text-align:left;vertical-align:top;">The until date specifying the date time range to filter orders (inclusive, null allowed, ISO8601
            date time format: yyyy-MM-dd'T'HH:mmZ).</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5566" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1948633384">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5652" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5654" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5656" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5658" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5652" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5654" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5656" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5658" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5652" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5654" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidOrderStatusException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5656" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">status (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5658" rowspan="1" style="text-align:left;vertical-align:top;">Thrown if specified status is unknown.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5652" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5654" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5656" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5658" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-356356692">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5713" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5715" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5713" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.orders.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5715" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the orders are retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5713" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.orders.modifyGETResponse_v2</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5715" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v2</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerOrderResultResponse : <a class="xref" href="../Documents/CustomerOrderResult.html" shape="rect">
          CustomerOrderResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the orders are retrieved for.</dd>
<dd class="dd pd ddexpand">customerOrderResultResponse - customer order result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1576689167">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code># Request, no paging details

REQUEST:
GET /dw/shop/v23_2/customers/cevGs1bS2Xac8fpwe6GHJEzYlg/orders HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json

# Request, with paging details

REQUEST:
GET /dw/shop/v23_2/customers/bczhcasxVFpLdxtF05OIPEb25u/orders?start=0&amp;count=1 HTTP/1.1
Host: example.com
Authorization:Bearer eyJfdiI6IjXXXXXX.eyJfdiI6IjEiLCJleHAXXXXXXX.-d5wQW4c4O4wt-Zkl7_fiEiALW1XXXX 
Content-Type:application/json


# in case of success
# note: "next" and / or "previous" links only exist when appropriate, and only if paging details were provided

RESPONSE:
HTTP/1.1 200 OK
Content-Type:application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_order_result",
   "count" : 1,
   "data" : 
   [
      
      {
         "_type" : "order",
         "adjusted_merchandize_total_tax" : 5.00,
         "adjusted_shipping_total_tax" : 0.00,
         ...
         "customer_info" : 
         {
            "_type" : "customer_info",
            "customer_id" : "bczhcasxVFpLdxtF05OIPEb25u",
            "customer_name" : "John Smith",
            "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6a091f191e05070f182a190b071a060f44090507">[email&#160;protected]</a>"
         },
         ...
         "order_no" : "00001228",
         ...
         "payment_instruments" : 
         [
         ...            
         ],
         "product_items" : 
         [
         ...            
         ],
         "product_sub_total" : 16.49,
         "product_total" : 16.49,
         "shipments" : 
         [
         ...
         ],
         "shipping_items" : 
         [
         ...
         ],
         "shipping_total" : 0.01,
         "shipping_total_tax" : 0.00,
         "status" : "created",
         "taxation" : "net",
         "tax_total" : 5.00,
         ...
      }
   ],
   "next" : "https://example.com/dw/shop/v23_2/customers/bczhcasxVFpLdxtF05OIPEb25u/orders?count=1&amp;start=1",
   "start" : 0,
   "total" : 3
}


# in case of validation failure - example response in case of registered customer scenario when the customer ID does not match the authenticated customer id:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}
</code></pre></div>

    </div>
<div class="section" id="id152106871__id-625942792"><h2 class="title sectiontitle">Update a customer's password.</h2>
      
      <p class="p"><!-- --></p>
Updates a customer's password. The default implementation updates the password in the resource.  
 Versions prior to 21.3 updated the password in the afterPUT hook, which was incompatible with the Mercury API.
 Starting in version 21.3, the afterPUT_v2 hook replaces the afterPUT hook.
      <p class="p subheading1" id="id152106871__id1286398839">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PUT https://hostname:port/dw/shop/v23_2/customers/{customer_id}/password</code></pre>
      <p class="p subheading1" id="id152106871__id2113659236">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-754241680">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5855" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5857" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5855" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5857" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1592618947">Request Document</p>
<p class="p"><a class="xref" href="../Documents/PasswordChangeRequest.html#id269566491" shape="rect">PasswordChangeRequest</a></p>
<p class="p subheading1" id="id152106871__id-405902260">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5896" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5898" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5900" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5902" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5896" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5898" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5900" rowspan="1" style="text-align:left;vertical-align:top;">the customer id</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5902" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1330131063">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e5945" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5947" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e5949" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e5951" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e5945" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5947" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e5949" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e5951" rowspan="1" style="text-align:left;vertical-align:top;">If customerId URL parameter does not match the verified customer represented by
             the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e5945" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5947" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e5949" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e5951" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-958186846">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PUT /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/password HTTP/1.1
Host: example.com
Authorization: Bearer eyJfdiI6IjEiLCJhbGciOiJSUzI1NiIsInR5cCI6IkpXUy.....
Content-Type: application/json
{
    "current_password": "01dpass", 
    "password": "newpass"
}

# in case of success:

RESPONSE:
HTTP/1.1 204 NO CONTENT

#example response in case of an empty new password:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "errorMessage" : "The new password is empty",
      },
      "type" : "UpdatePasswordException",
      "message" : "Invalid Update Password Request. The new password is empty"
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-1976118441"><h2 class="title sectiontitle">Starts a password reset process for given customer</h2>
      
      <p class="p"><!-- --></p>
<p class="p">Starts a password reset process. The user must be an agent logged in on behalf of a customer.</p>

 <p class="p">Generates a password reset token and passes it with the specified customer
 as the path parameter to the dw.ocapi.shop.customer.password_reset.afterPOST hook. The hook
 can use the provided reset token to perform actions such as sending a reset email.</p>

      <p class="p subheading1" id="id152106871__id572366520">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/password_reset</code></pre>
      <p class="p subheading1" id="id152106871__id1781208101">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-276655729">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6026" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6028" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6026" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6028" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT. A valid user is required.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6026" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6028" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1514360333">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6063" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6065" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6067" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6069" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6063" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6065" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6067" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6069" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-93929304">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6112" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6114" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6116" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6118" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6112" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6114" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6116" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6118" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer specified was not found.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id783170012">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6153" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6155" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6153" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.password_reset.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6155" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to reset the password</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6153" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.password_reset.afterPOST</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6155" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, resetToken : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<div class="p">Allows resetting a customer password. See the example below sending an email with a password reset link.

 <pre class="pre" xml:space="preserve"> var variables: Map = new dw.util.HashMap();
 variables.put("Customer", customer);
 variables.put("ResetPasswordToken", token);
 var template: Template = new dw.util.Template("mail/resetpasswordemail.isml");
 var content: MimeEncodedText = template.render(variables);
 var mail: Mail = new Mail().setSubject("Password Reset").setContent(content).setFrom("<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1876776a7d687461586b79747d6b7e776a7b7d367b7775">[email&#160;protected]</a>").addTo(customer.profile.email);
 mail.send();
 </pre>
</div>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to reset the password</dd>
<dd class="dd pd ddexpand">resetToken - the token generated by the system to be used for the reset</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id278014913">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/cdRXAiWbPdMhcaaadh5hZczLu5/password_reset HTTP/1.1
Host: example.com
Authorization: Bearer a5b6eb0d-8312-41a3-88f3-2c53c4507367
Content-Length: 0

# in case of success:

RESPONSE:
HTTP/1.1 204 NO CONTENT

# in case of password reset failure in hook dw.ocapi.shop.customer.password_reset.afterPOST.
# The wrong status with code and message is returned by the custom code.

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "extensionPoint" : "dw.ocapi.shop.customer.password_reset.afterPOST",
         "statusCode" : "EXT_PW_CHANGE_FAIL",
         "statusMessage" : "Password reset not successful in external system."
      },
      "type" : "HookStatusException",
      "message" : "Error in ExtensionPoint 'dw.ocapi.shop.customer.password_reset.afterPOST'!"
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id2135378879"><h2 class="title sectiontitle">Get customer payment instruments</h2>
      
      <p class="p"><!-- --></p>
Gets customer payment instruments for an customer. <p class="lines pdfonly"><!-- --></p>
 Can be limited to a specific payment
 method by providing query parameter <code class="ph codeph">payment_method_id</code>.
 <p class="lines pdfonly"><!-- --></p>

 When the customer cannot be found <code class="ph codeph">CustomerNotFoundException</code>
 is thrown in a case of an agent but an empty result list is returned in a case of JWT.
      <p class="p subheading1" id="id152106871__id-1983287984">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/payment_instruments?payment_method_id={String}</code></pre>
      <p class="p subheading1" id="id152106871__id1671288509">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id595866615">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6306" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6308" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6306" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6308" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6306" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6308" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-870911622">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerPaymentInstrumentResult.html#id1728098291" shape="rect">CustomerPaymentInstrumentResult</a></p>
<p class="p subheading1" id="id152106871__id-1502218075">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6352" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6354" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6356" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6358" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6352" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6354" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6356" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to retrieve the payment instruments for</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6358" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-121692288">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6391" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6393" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6395" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6397" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6391" rowspan="1" style="text-align:left;vertical-align:top;">payment_method_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6393" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6395" rowspan="1" style="text-align:left;vertical-align:top;">the id of the payment method, if null - all payment
            instruments are retrieved</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6397" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1287998224">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6438" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6440" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6442" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6444" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6438" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6440" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6442" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6444" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match
             the verified customer represented by the JWT, not
             relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6438" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6440" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6442" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6444" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1405441420">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6489" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6491" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6489" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instruments.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6491" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, paymentMethodId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the customer payment instruments result retrieved for.</dd>
<dd class="dd pd ddexpand">paymentMethodId - the id of the payment method, if null - all payment
            instruments are retrieved</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6489" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instruments.modifyGETResponse_v2</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6491" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v2</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerPaymentInstrumentResultResponse : <a class="xref" href="../Documents/CustomerPaymentInstrumentResult.html" shape="rect">
          CustomerPaymentInstrumentResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the customer payment instruments result retrieved for.</dd>
<dd class="dd pd ddexpand">customerPaymentInstrumentResultResponse - customer payment instrument result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1659942441">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/payment_instruments HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_type" : "customer_payment_instrument_result",
   "count" : 2,
   "data" : 
   [
      
      {
         "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
         "_type" : "customer_payment_instrument",
         "payment_bank_account" : 
         {
            "_type" : "payment_bank_account"
         },
         "payment_card" : 
         {
            "_type" : "payment_card",
            "card_type" : "Visa",
            "credit_card_expired" : false,
            "expiration_month" : 2,
            "expiration_year" : 2022,
            "holder" : "John Doe",
            "masked_number" : "***********1111",
            "number_last_digits" : "1111"
         },
         "payment_method_id" : "CREDIT_CARD",
         "payment_instrument_id" : "cdlPgiWbN6LM2aaadkcia6MgbA",
         "c_strValue" : "custom value 2"
      },
      
      {
         "_resource_state" : "847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb",
         "_type" : "customer_payment_instrument",
         "bank_routing_number" : "bankrouting3446",
         "gift_certificate_code_masked" : "*****code",
         "payment_bank_account" : 
         {
            "_type" : "payment_bank_account",
            "drivers_license_last_digits" : "e111",
            "drivers_license_state_code" : "MA",
            "holder" : "Joe Doe",
            "masked_drivers_license" : "**********e111",
            "masked_number" : "**********t111",
            "number_last_digits" : "t111"
         },
         "payment_card" : 
         {
            "_type" : "payment_card",
            "credit_card_expired" : false
         },
         "payment_method_id" : "OCAPI_Payment_Simple",
         "payment_instrument_id" : "cdTsgiWbN6DFEaaadkbia6MgbA",
         "c_strValue" : "custom value 1"
      }
   ],
   "total" : 2
}

# in case of validation failure - example response in case of registered customer scenario when the customer ID does not match the authenticated customer id:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id699195305"><h2 class="title sectiontitle">Add payment instrument for customer</h2>
      
      <p class="p"><!-- --></p>
Adds a payment instrument to a customer. Note that it can't update the read-only 
 <code class="ph codeph">credit_card_token</code> on a <code class="ph codeph">payment_card</code> record.
      <p class="p subheading1" id="id152106871__id-863938266">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/payment_instruments</code></pre>
      <p class="p subheading1" id="id152106871__id1848633235">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1505470049">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6643" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6645" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6643" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6645" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6643" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6645" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-77861260">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerPaymentInstrumentRequest.html#id-1430029399" shape="rect">CustomerPaymentInstrumentRequest</a></p>
<p class="p subheading1" id="id152106871__id176320208">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerPaymentInstrument.html#id1988937488" shape="rect">CustomerPaymentInstrument</a></p>
<p class="p subheading1" id="id152106871__id925684603">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6699" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6701" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6703" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6705" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6699" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6701" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6703" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6705" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1709361018">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6747" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6749" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e6751" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6753" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6747" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6749" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6751" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6753" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match
             the verified customer represented by the JWT, not
             relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6747" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6749" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e6751" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6753" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6747" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6749" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e6751" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6753" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1653194038">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e6808" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e6810" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6808" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6810" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, paymentInstrument : <a class="xref" href="../Documents/CustomerPaymentInstrumentRequest.html" shape="rect">
          CustomerPaymentInstrumentRequest
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before a
 payment instrument is added to a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to add the payment instrument</dd>
<dd class="dd pd ddexpand">paymentInstrument - the payment instrument to be added</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e6808" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e6810" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, paymentInstrument : <a class="xref" href="../Documents/CustomerPaymentInstrumentRequest.html" shape="rect">
          CustomerPaymentInstrumentRequest
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after a
 payment instrument was added to a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to add the payment instrument</dd>
<dd class="dd pd ddexpand">paymentInstrument - the payment instrument which was added</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e6808" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e6810" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerPaymentInstrument : <a class="xref" href="../../../../Documents/api/class_dw_customer_CustomerPaymentInstrument.html" shape="rect" target="_blank">
          CustomerPaymentInstrument
        </a>, customerPaymentInstrumentResponse : <a class="xref" href="../Documents/CustomerPaymentInstrument.html" shape="rect">
          CustomerPaymentInstrument
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">Customer - target customer</dd>
<dd class="dd pd ddexpand">customerPaymentInstrument - payment instrument</dd>
<dd class="dd pd ddexpand">customerPaymentInstrumentResponse - customer payment instrument response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id2081305235">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/payment_instruments HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json; charset=UTF-8
{
  "payment_card":{
                   "expiration_year":2027,
                   "expiration_month":7,
                   "valid_from_month":8,
                   "valid_from_year":2007,
                   "issue_number":"i117",
                   "number":"1234567",
                   "holder":"Joe Doe",
                   "card_type":"MasterCard"
                  },
  "gift_certificate_code": "gift_code7",
  "payment_method_id": "OCAPI_Payment_Simple",
  "bank_routing_number":"bankrouting3776",
  "c_strValue":"custom value 7"
}

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_payment_instrument",
   "bank_routing_number" : "bankrouting3776",
   "gift_certificate_code_masked" : "******ode7",
   "payment_bank_account" : 
   {
      "_type" : "payment_bank_account"
   },
   "payment_card" : 
   {
      "_type" : "payment_card",
      "card_type" : "MasterCard",
      "credit_card_expired" : false,
      "expiration_month" : 7,
      "expiration_year" : 2027,
      "holder" : "Joe Doe",
      "issue_number" : "i117",
      "masked_number" : "***4567",
      "number_last_digits" : "4567",
      "valid_from_month" : 8,
      "valid_from_year" : 2007
   },
   "payment_method_id" : "OCAPI_Payment_Simple",
   "payment_instrument_id" : "cdOLciWbOsYl6aaadkwcsx9xHH",
   "c_strValue" : "custom value 7"
}


# in case of validation failure - example response when the customer is not found:

RESPONSE:
HTTP/1.1 404 NOT FOUND
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "NotFoundException",
      "message" : "No customer with ID 'acE9xUWs5ea75qwTh0Svi2XfRY' was found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-327573840"><h2 class="title sectiontitle">Get customer payment instrument</h2>
      
      <p class="p"><!-- --></p>
Retrieves a customer's payment instrument by its id.
      <p class="p subheading1" id="id152106871__id-586454849">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/payment_instruments/{payment_instrument_id}</code></pre>
      <p class="p subheading1" id="id152106871__id92701356">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1892551976">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7017" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7019" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7017" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7019" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7017" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7019" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-253182295">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerPaymentInstrument.html#id1988937488" shape="rect">CustomerPaymentInstrument</a></p>
<p class="p subheading1" id="id152106871__id40322452">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7063" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7065" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7067" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7069" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7063" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7065" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7067" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to retrieve the payment instrument for</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7069" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7063" rowspan="1" style="text-align:left;vertical-align:top;">payment_instrument_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7065" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7067" rowspan="1" style="text-align:left;vertical-align:top;">the id of the payment instrument to be retrievedCustomer</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7069" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id405792065">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7121" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7123" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7125" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7127" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7121" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7123" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7125" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7127" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7121" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7123" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">PaymentInstrumentNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7125" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">paymentInstrumentId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7127" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the payment instrument with the given id is
             unknown for the customer with the given customer id.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1822975779">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7173" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7175" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7173" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7175" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - target customer id</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7173" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7175" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerPaymentInstrument : <a class="xref" href="../../../../Documents/api/class_dw_customer_CustomerPaymentInstrument.html" shape="rect" target="_blank">
          CustomerPaymentInstrument
        </a>, customerPaymentInstrumentResponse : <a class="xref" href="../Documents/CustomerPaymentInstrument.html" shape="rect">
          CustomerPaymentInstrument
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">customerPaymentInstrument - payment instrument</dd>
<dd class="dd pd ddexpand">customerPaymentInstrumentResponse - customer payment instrument response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id777736282">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/payment_instruments/eg5hEiWbPdcaQaaaekty3fqx1o HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "_resource_state" : "860cde3040519cce439cd99e209f8a87c3ad0b7e2813edbf6f5501f763b73bd5",
   "_type" : "customer_payment_instrument",
   "payment_bank_account" : 
   {
      "_type" : "payment_bank_account"
   },
   "payment_card" : 
   {
      "_type" : "payment_card",
      "card_type" : "Visa",
      "credit_card_expired" : false,
      "expiration_month" : 3,
      "expiration_year" : 2023,
      "holder" : "John Doe",
      "masked_number" : "***********1111",
      "number_last_digits" : "1111"
   },
   "payment_method_id" : "CREDIT_CARD",
   "payment_instrument_id" : "eg5hEiWbPdcaQaaaekty3fqx1o",
   "c_strValue" : "custom Test value 3"
}

# in case of validation failure - example response in case of unknown customer payment intrument:

RESPONSE:
HTTP/1.1 404 NOT FOUND
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "NotFoundException",
      "message" : "The payment instrument with uuid 'cdmh6iWbObcXUaaadkPA7ydxnr' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id114717029"><h2 class="title sectiontitle">Delete customer payment instrument</h2>
      
      <p class="p"><!-- --></p>
Deletes a customer's payment instrument.
      <p class="p subheading1" id="id152106871__id-1258840598">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>DELETE https://hostname:port/dw/shop/v23_2/customers/{customer_id}/payment_instruments/{payment_instrument_id}</code></pre>
      <p class="p subheading1" id="id152106871__id-189912489">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1082818787">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7321" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7323" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7321" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7323" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7321" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7323" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-2001857985">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7358" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7360" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7362" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7364" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7358" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7360" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7362" rowspan="1" style="text-align:left;vertical-align:top;">the id of the customer to delete the payment instrument for</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7364" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7358" rowspan="1" style="text-align:left;vertical-align:top;">payment_instrument_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7360" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7362" rowspan="1" style="text-align:left;vertical-align:top;">the id of the payment instrument to be deleted</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7364" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1089412150">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7415" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7417" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7419" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7421" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7415" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7417" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7419" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7421" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the
             verified customer represented by the JWT, not relevant
             when using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7415" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7417" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7419" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7421" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1459592562">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7466" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7468" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7466" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.beforeDELETE</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7468" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, paymentInstrumentId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before removing a payment instrument of a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to delete the payment instrument</dd>
<dd class="dd pd ddexpand">paymentInstrumentId - the id of the payment instrument to be deleted</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7466" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.payment_instrument.afterDELETE</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7468" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, paymentInstrumentId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after removing a payment instrument of a customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer for whom to delete the payment instrument</dd>
<dd class="dd pd ddexpand">paymentInstrumentId - the id of the payment instrument which was deleted</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1461356367">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
DELETE /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/payment_instruments/cdmh6iWbObcXUaaadkPA7ydxnr HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json
x-dw-resource-state: 847f9c3c5867f641470b3046aeec31f07757991b792d722e10079926f7a289fb

# in case of success:

RESPONSE:
HTTP/1.1 204 NO CONTENT

# in case of validation failure - example response in case of registered customer scenario when the customer ID does not match the authenticated customer id:

RESPONSE:
HTTP/1.1 400 BAD REQUEST
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1323936941"><h2 class="title sectiontitle">Get customer product lists</h2>
      
      <p class="p"><!-- --></p>
Returns all customer product lists in a paginated manner.
      <p class="p subheading1" id="id152106871__id720846242">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists?expand={String}&amp;start={Integer}&amp;count={Integer}</code></pre>
      <p class="p subheading1" id="id152106871__id501689871">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1048880027">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7612" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7614" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7612" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7614" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7612" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7614" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1763756620">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListResult.html#id673690387" shape="rect">CustomerProductListResult</a></p>
<p class="p subheading1" id="id152106871__id-949756425">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7658" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7660" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7662" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7664" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7658" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7660" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7662" rowspan="1" style="text-align:left;vertical-align:top;">- The customer id.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7664" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-175250322">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7697" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7699" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7701" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7703" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7697" rowspan="1" style="text-align:left;vertical-align:top;">count</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7699" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7701" rowspan="1" style="text-align:left;vertical-align:top;">- The count returned per page</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7703" rowspan="1" style="text-align:left;vertical-align:top;">maxIntegerValue=200, minIntegerValue=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7697" rowspan="1" style="text-align:left;vertical-align:top;">expand</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7699" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7701" rowspan="1" style="text-align:left;vertical-align:top;">- The possible expansions - product, images, availability. For images and availability the product
            has to be expanded as well.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7703" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7697" rowspan="1" style="text-align:left;vertical-align:top;">start</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7699" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7701" rowspan="1" style="text-align:left;vertical-align:top;">- The start of the product List</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7703" rowspan="1" style="text-align:left;vertical-align:top;">minIntegerValue=0</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-550846082">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7763" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7765" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e7767" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7769" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7763" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7765" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e7767" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7769" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7763" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7765" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e7767" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7769" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-73024442">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7813" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7815" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7813" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_lists.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7815" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the customer product lists result retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7813" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_lists.modifyGETResponse_v3</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7815" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v3</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, customerProductListResultResponse : <a class="xref" href="../Documents/CustomerProductListResult.html" shape="rect">
          CustomerProductListResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the customer product lists result retrieved for.</dd>
<dd class="dd pd ddexpand">customerProductListResultResponse - customer product list pageable result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-178901865">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/abIc5hnebSnMSngHiQAekNE6Xd/product_lists HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8
{
    "_v": "23.2",
    "_type": "customer_product_list_result",
    "count": 2,
    "data": [
        {
            "_type": "customer_product_list",
            "creation_date": "2020-07-29T22:30:43.000Z",
            "event": {
                "_type": "product_list_event"
            },
            "id": "0000073597bbf8c7604dce8f2c",
            "items_link": {
                "_type": "customer_product_list_item_link",
                "link": "https://example.com/s/SiteGenesis/dw/shop/v23_2/customers/acXvoeW9o2g9SSiaHDHjnm7Pvc/product_lists/0000073597bbf8c7604dce8f2c/items?start=0&amp;count=2",
                "title": "0 items"
            },
            "last_modified": "2020-07-29T22:30:44.000Z",
            "public": false,
            "type": "wish_list"
        },
        {
            "_type": "customer_product_list",
            "creation_date": "2020-07-29T22:30:42.000Z",
            "event": {
                "_type": "product_list_event"
            },
            "id": "0000407a34e39368119d1db05c",
            "items_link": {
                "_type": "customer_product_list_item_link",
                "link": "https://example.com/s/SiteGenesis/dw/shop/v23_2/customers/acXvoeW9o2g9SSiaHDHjnm7Pvc/product_lists/0000407a34e39368119d1db05c/items?start=0&amp;count=2",
                "title": "0 items"
            },
            "last_modified": "2020-07-29T22:30:44.000Z",
            "public": false,
            "type": "wish_list"
        }
    ],
    "next": "https://localhost/s/SiteGenesis/dw/shop/v23_2/customers/acXvoeW9o2g9SSiaHDHjnm7Pvc/product_lists?start=2&amp;count=2",
    "start": 0,
    "total": 4
}


# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-899745769"><h2 class="title sectiontitle">Create customer product list</h2>
      
      <p class="p"><!-- --></p>
Creates a customer product list.
      <p class="p subheading1" id="id152106871__id564806136">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists</code></pre>
      <p class="p subheading1" id="id152106871__id-1070327963">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id153839183">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e7955" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e7957" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e7955" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e7957" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e7955" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e7957" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1915000094">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductList.html#id-713252304" shape="rect">CustomerProductList</a></p>
<p class="p subheading1" id="id152106871__id-940408798">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductList.html#id-713252304" shape="rect">CustomerProductList</a></p>
<p class="p subheading1" id="id152106871__id1974800717">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8010" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8012" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8014" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8016" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8010" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8012" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8014" rowspan="1" style="text-align:left;vertical-align:top;">The customer id.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8016" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1987029656">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8059" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8061" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8063" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8065" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8059" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8061" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidAddressLinkException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8063" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">addressId (String)</p>
<p class="p">customerNo (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8065" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the id of the given address link does not reference an address
             of the current customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8059" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8061" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8063" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8065" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8059" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8061" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidProductListTypeException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8063" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8065" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that there was no or an invalid type given for the to be
             created product list.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8059" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8061" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8063" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8065" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id104320284">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8131" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8133" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8131" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_lists.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8133" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before creating a new product list for the specified customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list to create</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8131" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_lists.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8133" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after creating a new product list for the specified customer.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the created product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8131" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8133" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListResponse : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - product list</dd>
<dd class="dd pd ddexpand">customerProductListResponse - customer product list response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1615085439">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

{
    "type": "wish_list",
    "name": "OurProductList",
    "description": "our productlist",
    "public": false,
    "co_registrant" : 
    {
       "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e389828d86878c86a3869b828e938f86cd808c8e">[email&#160;protected]</a>",
       "first_name" : "Jane",
       "last_name" : "Doe",
       "role" : "Bride"
    },
    "registrant" : 
    {
       "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3e545156505a515b7e5b465f534e525b105d5153">[email&#160;protected]</a>",
       "first_name" : "John",
       "last_name" : "Doe",
       "role" : "Groom"
    },
    "event" : 
    {
       "city" : "Washington",
       "country" : "US",
       "date" : "2015-07-30T00:00Z",
       "state" : "DC",
       "type" : "Wedding"
    }
}


# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list",
   "_resource_state" : "c16d2a20fa9c1c52ca9de413dd430a335c50a1d4f1ccb3e020b25c8b90cee8b7",
   "co_registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="385259565d5c575d785d40595548545d165b5755">[email&#160;protected]</a>",
      "first_name" : "Jane",
      "last_name" : "Doe",
      "role" : "Bride"
   },
   "description" : "our productlist",
   "event" : 
   {
      "_type" : "product_list_event",
      "city" : "Washington",
      "country" : "US",
      "date" : "2015-07-30T00:00Z",
      "state" : "DC",
      "type" : "Wedding"
   },
   "id" : "bb151cd88655b081acc1fa85c6",
   "items_link" : 
   {
      "_type" : "customer_product_list_item_link",
      "link" : "https://example.com/dw/shop/v23_2/customers/abKvXV2tYXMZPTdDwPXgx031cd/product_lists/bb151cd88655b081acc1fa85c6/items",
      "title" : "0 items"
   },
   "name" : "OurProductList",
   "public" : false,
   "registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="80eaefe8eee4efe5c0e5f8e1edf0ece5aee3efed">[email&#160;protected]</a>",
      "first_name" : "John",
      "last_name" : "Doe",
      "role" : "Groom"
   },
   "type" : "wish_list"
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-239318272"><h2 class="title sectiontitle">Get customer product list</h2>
      
      <p class="p"><!-- --></p>
Returns a customer product list of the given customer.
      <p class="p subheading1" id="id152106871__id115186287">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}?expand={String}</code></pre>
      <p class="p subheading1" id="id152106871__id-1299686308">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1702564488">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8338" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8340" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8338" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8340" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8338" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8340" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1231699033">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductList.html#id-713252304" shape="rect">CustomerProductList</a></p>
<p class="p subheading1" id="id152106871__id260861764">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8384" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8386" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8388" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8390" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8384" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8386" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8388" rowspan="1" style="text-align:left;vertical-align:top;">The customer id.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8390" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8384" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8386" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8388" rowspan="1" style="text-align:left;vertical-align:top;">The product list id.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8390" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1300792127">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8432" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8434" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8436" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8438" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8432" rowspan="1" style="text-align:left;vertical-align:top;">expand</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8434" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8436" rowspan="1" style="text-align:left;vertical-align:top;">The possible expansions - product, images, availability. For images and availability the product
            has to be expanded as well.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8438" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-608954991">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8480" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8482" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8484" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8486" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8480" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8482" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8484" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8486" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8480" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8482" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8484" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8486" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8480" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8482" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8484" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8486" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id460078291">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8541" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8543" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8541" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8543" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, productListId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - The customer id.</dd>
<dd class="dd pd ddexpand">productListId - The product list id.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8541" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8543" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListResponse : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">customerProductListResponse - customer product list response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-237010774">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list",
   "co_registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="93f9f2fdf6f7fcf6d3f6ebf2fee3fff6bdf0fcfe">[email&#160;protected]</a>",
      "first_name" : "Jane",
      "last_name" : "Doe",
      "role" : "Bride"
   },
   "description" : "our productlist",
   "event" : 
   {
      "_type" : "product_list_event",
      "city" : "Washington",
      "country" : "US",
      "date" : "2015-07-30T00:00Z",
      "state" : "DC",
      "type" : "Wedding"
   },
   "id" : "bcedkiWbxCM2MaaadkRhB2IBzM",
   "items_link" : 
   {
      "_type" : "customer_product_list_item_link",
      "link" : "https://example.com/dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM/items",
      "title" : "0 items"
   },
   "name" : "OurProductList",
   "public" : false,
   "registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c0aaafa8aea4afa580a5b8a1adb0aca5eea3afad">[email&#160;protected]</a>",
      "first_name" : "John",
      "last_name" : "Doe",
      "role" : "Groom"
   },
   "shipping_address_link" : 
   {
      "_type" : "address_link",
      "address_id" : "me",
      "link" : "https://example.com/dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/me",
      "title" : "me, John Doe, Woburn"
   },
   "type" : "wish_list"
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id584482674"><h2 class="title sectiontitle">Change customer product list</h2>
      
      <p class="p"><!-- --></p>
Changes a product list. Changeable properties are the name, description and if the list is public.
      <p class="p subheading1" id="id152106871__id526039229">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PATCH https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}</code></pre>
      <p class="p subheading1" id="id152106871__id-275668054">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1802072682">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8695" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8697" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8695" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8697" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8695" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8697" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1489427517">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductList.html#id-713252304" shape="rect">CustomerProductList</a></p>
<p class="p subheading1" id="id152106871__id1517632039">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductList.html#id-713252304" shape="rect">CustomerProductList</a></p>
<p class="p subheading1" id="id152106871__id1530431634">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8750" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8752" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8754" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8756" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8750" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8752" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8754" rowspan="1" style="text-align:left;vertical-align:top;">The customer id.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8756" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8750" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8752" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8754" rowspan="1" style="text-align:left;vertical-align:top;">The product list id.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8756" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1545753469">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8808" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8810" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e8812" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8814" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8808" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8810" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8812" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8814" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8808" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8810" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e8812" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8814" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8808" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8810" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e8812" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8814" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1505078879">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e8869" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e8871" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8869" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.beforePATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8871" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before modifying a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e8869" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.afterPATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e8871" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after modifying a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e8869" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.modifyPATCHResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e8871" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPATCHResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListResponse : <a class="xref" href="../Documents/CustomerProductList.html" shape="rect">
          CustomerProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">customerProductListResponse - customer product list response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1173809252">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PATCH /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/cdmh6iWbObcXUaaadkPA7ydxnr HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
x-dw-resource-state:634da3c275e55a6d66099aaa3d1550fa82ec43d5131bd5b64dde75c4ca942e9c
Content-Type: application/json

{
    "description": "new description"
}


# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Etag: ede395db479773613c6538aad756a4ef990b2f80003865964c88a6854f09c220

{
   "_v" : "23.2",
   "_type" : "customer_product_list",
   "_resource_state" : "6a5813cf5afd5906b7f838379b597297123a7bc5208486cf08e4c31370669721",
   "co_registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e18b808f84858e84a192808d8492878e938284cf828e8c">[email&#160;protected]</a>",
      "first_name" : "Jane",
      "last_name" : "Doe",
      "role" : "Bride"
   },
   "description" : "new description",
   "event" : 
   {
      "_type" : "product_list_event",
      "city" : "Washington",
      "country" : "US",
      "date" : "2015-07-30T00:00Z",
      "state" : "DC",
      "type" : "Wedding"
   },
   "id" : "cdmh6iWbObcXUaaadkPA7ydxnr",
   "items_link" : 
   {
      "_type" : "customer_product_list_item_link",
      "link" : "https://example.com/dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/cdmh6iWbObcXUaaadkPA7ydxnr/items",
      "title" : "0 items"
   },
   "name" : "OurProductList",
   "public" : false,
   "registrant" : 
   {
      "_type" : "product_list_registrant",
      "email" : "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c2a8adaaaca6ada782a7baa3afb2aea7eca1adaf">[email&#160;protected]</a>",
      "first_name" : "John",
      "last_name" : "Doe",
      "role" : "Groom"
   },
   "shipping_address_link" : 
   {
      "_type" : "address_link",
      "address_id" : "me",
      "link" : "https://example.com/dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/addresses/me",
      "title" : "me, John Doe, Woburn"
   },
   "type" : "wish_list"
}


# in case of validation failure - example response in case of attempt to update non-existing product list:

RESPONSE:
HTTP/1.1 404 Not Found
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "cdmh6iWbObcXUaaadkPA7ydxnr"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'cdmh6iWbObcXUaaadkPA7ydxnr' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-937178571"><h2 class="title sectiontitle">Delete customer product list</h2>
      
      <p class="p"><!-- --></p>
Deletes a customer product list.
      <p class="p subheading1" id="id152106871__id2095698714">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>DELETE https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}</code></pre>
      <p class="p subheading1" id="id152106871__id1629636487">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id617556973">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9076" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9078" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9076" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9078" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9076" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9078" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-829816977">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9113" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9115" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9117" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9119" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9113" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9115" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9117" rowspan="1" style="text-align:left;vertical-align:top;">The customer id.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9119" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9113" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9115" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9117" rowspan="1" style="text-align:left;vertical-align:top;">The product list id.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9119" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id871012614">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9170" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9172" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9174" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9176" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9170" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9172" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9174" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9176" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9170" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9172" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9174" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9176" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9170" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9172" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9174" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9176" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-296363074">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9232" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9234" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9232" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.beforeDELETE</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9234" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before a customer product list is deleted.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9232" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.afterDELETE</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9234" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productListId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after a customer product list is deleted.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productListId - the product list id</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1242956831">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
DELETE /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/cdmh6iWbObcXUaaadkPA7ydxnr HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 204 No Content


# in case of validation failure - example response in case of registered customer scenario when the customer ID does not match the authenticated customer id:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Content-Type: application/json;charset=UTF-8
{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-156500113"><h2 class="title sectiontitle">Get items of customer's product list</h2>
      
      <p class="p"><!-- --></p>
Returns a pageable list of all items of a customer's product list. The default page size is 10.
      <p class="p subheading1" id="id152106871__id2039733152">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items?expand={String}&amp;start={Integer}&amp;count={Integer}</code></pre>
      <p class="p subheading1" id="id152106871__id1894292749">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id235713447">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9378" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9380" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9378" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9380" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9378" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9380" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1365634102">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemResult.html#id-105238528" shape="rect">CustomerProductListItemResult</a></p>
<p class="p subheading1" id="id152106871__id217935605">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9424" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9426" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9428" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9430" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9424" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9426" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9428" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer to retrieve the product list items for.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9430" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9424" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9426" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9428" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9430" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1663464240">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9472" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9474" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9476" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9478" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9472" rowspan="1" style="text-align:left;vertical-align:top;">count</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9474" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9476" rowspan="1" style="text-align:left;vertical-align:top;">The maximum number of instances per request; default value is 10.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9478" rowspan="1" style="text-align:left;vertical-align:top;">maxIntegerValue=200, minIntegerValue=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9472" rowspan="1" style="text-align:left;vertical-align:top;">expand</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9474" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9476" rowspan="1" style="text-align:left;vertical-align:top;">The possible expansions - product, images, availability. For images and availability the product
            has to be expanded as well.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9478" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9472" rowspan="1" style="text-align:left;vertical-align:top;">start</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9474" rowspan="1" style="text-align:left;vertical-align:top;">Integer</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9476" rowspan="1" style="text-align:left;vertical-align:top;">The result set index to return the first instance for; default value is 0.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9478" rowspan="1" style="text-align:left;vertical-align:top;">minIntegerValue=0</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id48265920">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9538" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9540" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9542" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9544" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9538" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9540" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9542" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9544" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9538" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9540" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9542" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9544" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9538" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9540" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9542" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9544" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1278511932">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9599" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9601" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9599" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.items.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9601" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, productListId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the customer product list items result retrieved for.</dd>
<dd class="dd pd ddexpand">productListId - the product list id the customer product list items result retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9599" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.items.modifyGETResponse_v2</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9601" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v2</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListItemResultResponse : <a class="xref" href="../Documents/CustomerProductListItemResult.html" shape="rect">
          CustomerProductListItemResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the customer product list items result retrieved for.</dd>
<dd class="dd pd ddexpand">productList - the product list the customer product list items result retrieved for.</dd>
<dd class="dd pd ddexpand">customerProductListItemResultResponse - customer product list item result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id420210137">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/bdndMnaBvPR2v7xM04bEXaAqho/product_lists/a3c7975278be9a387e10db66f7/items HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item_result",
   "count" : 2,
   "data" : 
   [
      
      {
         "_type" : "customer_product_list_item",
         "_resource_state" : "73f63f1d95d3a9d5775c8bb678ec5f7704687829163f8e261c21436276da7da5",
         "id" : "ebe04a8c6be5c01a5dac9e50ac",
         "priority" : 4,
         "product_details_link" : 
         {
            "_type" : "product_simple_link",
            "link" : "https://example.com/dw/shop/v23_2/products/008884303989",
            "title" : "Platinum Blue Stripes Easy Care Fitted Shirt"
         },
         "product_id" : "008884303989",
         "public" : true,
         "purchased_quantity" : 0,
         "quantity" : 2,
         "type" : "product"
      },
      
      {
         "_type" : "customer_product_list_item",
         "_resource_state" : "72b19bb7f050da7921746cdbc6dff6774000ba6fdb473504389b5f457bbe9fc0",
         "id" : "f33bfc1a99e64c79ddfbb49b19",
         "priority" : 2,
         "public" : false,
         "purchased_quantity" : 0,
         "type" : "gift_certificate"
      }
   ],
   "start" : 0,
   "total" : 2
}

# in case of validation failure - example response in case of an unknown customer product list:

RESPONSE:
HTTP/1.1 404 Not Found
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "a3c7975278be9a387e10db66f7"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'a3c7975278be9a387e10db66f7' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id310458073"><h2 class="title sectiontitle">Add item to customer's product list</h2>
      
      <p class="p"><!-- --></p>
Adds an item to the customer's product list. Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">type</strong>: a valid type, mandatory. This is the type of the item to be added to the customer's product
 list.</li>

 <li class="li"><strong class="ph b">priority</strong>: This is the priority of the item to be added to the customer's product list.</li>

 <li class="li"><strong class="ph b">public</strong>: This is the flag whether the item to be added to the customer's product list is public.</li>

 <li class="li"><strong class="ph b">product_id</strong>: a valid product id, used for <code class="ph codeph">product</code> item type only. This is the id (sku)
 of the product related to the item to be added to the customer's product list. It is mandatory for
 <code class="ph codeph">product</code> item type and it must be a valid product id, otherwise
 <code class="ph codeph">ProductListProductIdMissingException</code> or <code class="ph codeph">ProductListProductNotFoundException</code>
 will be thrown.</li>

 <li class="li"><strong class="ph b">quantity</strong>: used for <code class="ph codeph">product</code> item type only. This is the quantity of the item to be
 added to the customer's product list.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property must correspond to a custom
 attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItem. The value of this property must be valid for the
 type of custom attribute defined for ProductListItem.</li>

 </ul>

      <p class="p subheading1" id="id152106871__id1791980534">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items</code></pre>
      <p class="p subheading1" id="id152106871__id-1353442717">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1446008431">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9802" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9804" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9802" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9804" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9802" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9804" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1770265180">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItem.html#id1916179677" shape="rect">CustomerProductListItem</a></p>
<p class="p subheading1" id="id152106871__id-748593760">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItem.html#id1916179677" shape="rect">CustomerProductListItem</a></p>
<p class="p subheading1" id="id152106871__id-375835061">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9858" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9860" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9862" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9864" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9858" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9860" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9862" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer - owner of the product list.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9864" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9858" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9860" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9862" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9864" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1996162390">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemTypeMissingException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that type property in request body is not provided.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListProductIdMissingException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that product property in request body is not provided.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListProductNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product with the provided id is unknown.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListDuplicateGiftCertificateException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer product list already has gift
             certificate item.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e9915" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9917" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e9919" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e9921" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1715280282">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10014" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10016" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10014" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.items.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10016" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, item : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before adding an item to a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">item - the item to add to the customer product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10014" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.items.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10016" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, item : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after adding an item to a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">item - the item added to the customer product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10014" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10016" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListItemResponse : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>, customerProductListItemRequest : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">customerProductListItemResponse - customer product list item response object</dd>
<dd class="dd pd ddexpand">customerProductListItemRequest - customer product list item request object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1624218173">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/bdndMnaBvPR2v7xM04bEXaAqho/product_lists/3590c1e6f1d58a050b3e2b33fc/items HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

{ 
  "type": "product",
  "product_id" : "008884303989",
  "priority": 4,
  "quantity": 2,
  "public": true
}

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item",
   "_resource_state" : "826247114ce7f0afd37993890e05620b75fdacd09b2dad80406bba87926b91af",
   "id" : "1d447daa4d25805fd682bd4ce1",
   "priority" : 4,
   "product_details_link" : 
   {
      "_type" : "product_simple_link",
      "link" : "https://example.com/dw/shop/v23_2/products/008884303989",
      "title" : "Platinum Blue Stripes Easy Care Fitted Shirt"
   },
   "product_id" : "008884303989",
   "public" : true,
   "purchased_quantity" : 0,
   "quantity" : 2,
   "type" : "product"
}

# in case of validation failure - example response in case of an unknown customer product list:

RESPONSE:
HTTP/1.1 404 Not Found
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "a3c7975278be9a387e10db66f7"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'a3c7975278be9a387e10db66f7' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id786827757"><h2 class="title sectiontitle">Get an item of a customer product list</h2>
      
      <p class="p"><!-- --></p>
Returns an item of a customer product list.
      <p class="p subheading1" id="id152106871__id-1545676702">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}?expand={String}</code></pre>
      <p class="p subheading1" id="id152106871__id1342400719">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id619415973">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10244" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10246" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10244" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10246" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10244" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10246" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id608343308">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItem.html#id1916179677" shape="rect">CustomerProductListItem</a></p>
<p class="p subheading1" id="id152106871__id-772187977">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10290" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10292" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10294" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10296" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10290" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10292" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10294" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer to retrieve the product list items for.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10296" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10290" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10292" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10294" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to retrieve.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10296" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10290" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10292" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10294" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10296" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1034404270">Query Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10347" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10349" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10351" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10353" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10347" rowspan="1" style="text-align:left;vertical-align:top;">expand</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10349" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10351" rowspan="1" style="text-align:left;vertical-align:top;">The possible expansions - product, images, availability. For images and availability the product
            has to be expanded as well.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10353" rowspan="1" style="text-align:left;vertical-align:top;"></td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1355010370">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10395" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10397" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10399" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10401" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10395" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10397" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10399" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10401" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10395" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10397" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10399" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10401" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10395" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10397" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10399" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10401" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-19208442">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10458" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10460" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10458" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10460" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, productListId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, productListItemId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - target customer id</dd>
<dd class="dd pd ddexpand">productListId - the customers product list id the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">productListItemId - the product list id item the product list item purchase result retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10458" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10460" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, customerProductListItemResponse : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productListItem - target product list item</dd>
<dd class="dd pd ddexpand">customerProductListItemResponse - customer product list item response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-983066153">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/bdndMnaBvPR2v7xM04bEXaAqho/product_lists/307074e244c06058adfdccd786/items/17f6313d232767ef80da988a13 HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item",
   "id" : "17f6313d232767ef80da988a13",
   "priority" : 4,
   "product_details_link" : 
   {
      "_type" : "product_simple_link",
      "link" : "https://example.com/dw/shop/v23_2/products/008884303989",
      "title" : "Platinum Blue Stripes Easy Care Fitted Shirt"
   },
   "product_id" : "008884303989",
   "public" : true,
   "purchased_quantity" : 0,
   "quantity" : 2,
   "type" : "product"
}


# in case of validation failure - example response in case of an unknown customer product list:

RESPONSE:
HTTP/1.1 404 Not Found
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "a3c7975278be9a387e10db66f7"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'a3c7975278be9a387e10db66f7' was not found."
    }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1335525154"><h2 class="title sectiontitle">Remove item from customer's product list</h2>
      
      <p class="p"><!-- --></p>
Removes an item from a customer product list.
      <p class="p subheading1" id="id152106871__id-1947051251">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>DELETE https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}</code></pre>
      <p class="p subheading1" id="id152106871__id670014970">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-593740262">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10618" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10620" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10618" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10620" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10618" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10620" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id274674402">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10655" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10657" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10659" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10661" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10655" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10657" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10659" rowspan="1" style="text-align:left;vertical-align:top;">The id of the owner of the product list</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10661" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10655" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10657" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10659" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to delete.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10661" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10655" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10657" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10659" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10661" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-1515247565">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10721" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10723" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e10725" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10727" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10721" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10723" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10725" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10727" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10721" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10723" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e10725" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10727" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10721" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10723" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e10725" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10727" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-1028173839">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10785" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10787" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10785" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.beforeDELETE</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10787" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, item : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before deleting an item from a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">item - the product list item to delete</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10785" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.afterDELETE</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10787" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterDELETE</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, itemId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after deleting an item from a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">itemId - the id of the deleted item</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1143303348">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
DELETE /dw/shop/v23_2/customers/bdndMnaBvPR2v7xM04bEXaAqho/product_lists/0f0cbd8584373da21e33dd9cd4/items/be99f1a857ad12fae8053eb0ab HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 204 No Content



# in case of validation failure - example response in case of an unknown customer product list:

RESPONSE:
HTTP/1.1 404 Not Found
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "a3c7975278be9a387e10db66f7"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'a3c7975278be9a387e10db66f7' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1488788063"><h2 class="title sectiontitle">Update customer's product list item</h2>
      
      <p class="p"><!-- --></p>
Updates an item of a customer's product list.
 Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">priority</strong>: This is the priority of the customer's product list item.</li>

 <li class="li"><strong class="ph b">public</strong>: This is the flag whether the customer's product list item is public.</li>

 <li class="li"><strong class="ph b">quantity</strong>: used for <code class="ph codeph">product</code> item type only. This is the quantity of
 the customer's product list item.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property
 must correspond to a custom attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItem.
 The value of this property must be valid for the type of custom attribute defined for ProductListItem.</li>

 </ul>

      <p class="p subheading1" id="id152106871__id-1641964880">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PATCH https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}</code></pre>
      <p class="p subheading1" id="id152106871__id190862365">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-2065962345">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e10970" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e10972" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e10970" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e10972" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e10970" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e10972" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-545522390">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItem.html#id1916179677" shape="rect">CustomerProductListItem</a></p>
<p class="p subheading1" id="id152106871__id-1436272934">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItem.html#id1916179677" shape="rect">CustomerProductListItem</a></p>
<p class="p subheading1" id="id152106871__id1880430085">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11026" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11028" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11030" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11032" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11026" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11028" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11030" rowspan="1" style="text-align:left;vertical-align:top;">The id of the owner of the product list.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11032" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11026" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11028" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11030" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to update.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11032" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11026" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11028" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11030" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11032" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-837967440">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11092" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11094" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11096" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11098" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11092" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11094" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11096" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11098" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is
             unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11092" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11094" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11096" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11098" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is
             unknown for the site and the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11092" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11094" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11096" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11098" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id
             is unknown for the site, the customer and the product list.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1002545108">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11155" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11157" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11155" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.beforePATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11157" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, item : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before updating an item of a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">item - the product list item to update</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11155" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.afterPATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11157" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, item : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after updating an item of a customer product list.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">item - the updated item</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11155" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.modifyPATCHResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11157" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPATCHResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, customerProductListItemResponse : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>, customerProductListItemRequest : <a class="xref" href="../Documents/CustomerProductListItem.html" shape="rect">
          CustomerProductListItem
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">customerProductListItemRequest - customer product list item request object</dd>
<dd class="dd pd ddexpand">customerProductListItemResponse - customer product list item response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-466023223">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PATCH /dw/shop/v23_2/customers/bdndMnaBvPR2v7xM04bEXaAqho/product_lists/5aa91dd24ef272a8318.74b812/items/1d447daa4d25805fd682bd4ce1 HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
x-dw-resource-state:634da3c275e55a6d66099aaa3d1550fa82ec43d5131bd5b64dde75c4ca942e9c
Content-Type: application/json

{
    "priority": 3,
    "quantity": 4,
    "public": false
}


# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Etag: ede395db479773613c6538aad756a4ef990b2f80003865964c88a6854f09c220

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item",
   "_resource_state" : "826247114ce7f0afd37993890e05620b75fdacd09b2dad80406bba87926b91af",
   "id" : "1d447daa4d25805fd682bd4ce1",
   "priority" : 3,
   "product_details_link" : 
   {
      "_type" : "product_simple_link",
      "link" : "https://example.com/dw/shop/v23_2/products/008884303989",
      "title" : "Platinum Blue Stripes Easy Care Fitted Shirt"
   },
   "product_id" : "008884303989",
   "public" : false,
   "purchased_quantity" : 0,
   "quantity" : 4,
   "type" : "product"
}


# in case of validation failure - example response in case of an unknown customer product list:

RESPONSE:
HTTP/1.1 404 Not Found
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "arguments" : 
      {
         "productListId" : "a3c7975278be9a387e10db66f7"
      },
      "type" : "ProductListNotFoundException",
      "message" : "The product list with ID 'a3c7975278be9a387e10db66f7' was not found."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1346541706"><h2 class="title sectiontitle">Get the purchases of a customer product list item</h2>
      
      <p class="p"><!-- --></p>
Returns a list of all purchases of an item from a customer's product list.
      <p class="p subheading1" id="id152106871__id-170465115">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases</code></pre>
      <p class="p subheading1" id="id152106871__id-886857838">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-2050506366">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11385" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11387" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11385" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11387" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11385" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11387" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-548703217">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchaseResult.html#id-1270026433" shape="rect">CustomerProductListItemPurchaseResult</a></p>
<p class="p subheading1" id="id152106871__id-1935401862">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11431" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11433" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11435" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11437" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11431" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11433" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11435" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer to retrieve the product list item purchases for.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11437" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11431" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11433" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11435" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to retrieve from.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11437" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11431" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11433" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11435" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11437" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-2119658597">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11498" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11500" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11502" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11504" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11498" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11500" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11502" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11504" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11498" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11500" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11502" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11504" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11498" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11500" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11502" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11504" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11498" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11500" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11502" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11504" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id2111422345">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11570" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11572" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11570" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchases.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11572" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, listId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>, itemId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - the customer id the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">listId - the customers product list id the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">itemId - the product list id item the product list item purchase result retrieved for.</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11570" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchases.modifyGETResponse_v2</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11572" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse_v2</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, customerProductListItemPurchaseResultResponse : <a class="xref" href="../Documents/CustomerProductListItemPurchaseResult.html" shape="rect">
          CustomerProductListItemPurchaseResult
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">productList - the customers product list the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">productListItem - the product list item the product list item purchase result retrieved for.</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseResultResponse - customer product list item purchase result response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-1747714380">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM/purchases HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item_purchase_result",
   "count" : 1,
   "data" : 
   [
      {
	     "_type" : "customer_product_list_item_purchase",
	     "id" : "2cebc21d3698a82efae72acff0",
	     "product_list_item_id" : "416ce013b346c908bee07d62e0",
	     "purchase_name" : "Jane Doe",
	     "quantity" : 1.0
      }
   ],
   "total" : 1
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id1135343348"><h2 class="title sectiontitle">Add a purchase to an item on a customer product list</h2>
      
      <p class="p"><!-- --></p>
Adds a purchase to an item in the customer's product list. Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">purchaser_name</strong>: name of the purchaser, mandatory. This is the full name of the purchaser of this product
 list item.</li>

 <li class="li"><strong class="ph b">quantity</strong>: amount purchased, mandatory. This is the quantity of the items purchased from
 the product list.</li>

 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property must correspond to a custom
 attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItemPurchase. The value of this property must be valid for the
 type of custom attribute defined for ProductListItemPurchase.</li>

 </ul>

      <p class="p subheading1" id="id152106871__id146340347">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>POST https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases</code></pre>
      <p class="p subheading1" id="id152106871__id-1856956952">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-1823564180">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11755" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11757" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11755" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11757" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11755" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11757" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id470880191">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchase.html#id-996315300" shape="rect">CustomerProductListItemPurchase</a></p>
<p class="p subheading1" id="id152106871__id7436005">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchase.html#id-996315300" shape="rect">CustomerProductListItemPurchase</a></p>
<p class="p subheading1" id="id152106871__id804838608">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11811" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11813" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11815" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11817" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11811" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11813" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11815" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer - owner of the product list.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11817" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11811" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11813" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11815" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item where to add the purchase.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11817" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11811" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11813" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11815" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11817" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-211289467">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11877" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11879" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e11881" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11883" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11877" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11879" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11881" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11883" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11877" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11879" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11881" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11883" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11877" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11879" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e11881" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11883" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11877" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11879" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e11881" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11883" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id317627743">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e11949" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e11951" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11949" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchases.beforePOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11951" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, purchase : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before adding a purchase to a customer product list item.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">productListItem - the product list item</dd>
<dd class="dd pd ddexpand">purchase - the purchase to add to the customer product list item</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e11949" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchases.afterPOST</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e11951" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPOST</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, purchase : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after adding a purchase to a customer product list item.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">productListItem - the product list item</dd>
<dd class="dd pd ddexpand">purchase - the item added to the customer product list</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e11949" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchases.modifyPOSTResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e11951" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPOSTResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, customerProductListItemPurchaseResponse : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>, customerProductListItemPurchaseRequest : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">productListItem - target product list item</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseResponse - customer product list item purchase response object</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseRequest - customer product list item purchase request object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id160654750">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
POST /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM/purchases HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item_purchase",
   "id" : "dcdb9e4d1f930a2d3a32310ec5",
   "product_list_item_id" : "842ea014e952ded367c74a6c56",
   "purchaser_name" : "first last",
   "quantity" : 1.0
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-912342886"><h2 class="title sectiontitle">Get a purchase of a customer product list item</h2>
      
      <p class="p"><!-- --></p>
Returns a purchase of an item from a customer's product list.
      <p class="p subheading1" id="id152106871__id-1053751659">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>GET https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases/{purchase_id}</code></pre>
      <p class="p subheading1" id="id152106871__id-10664574">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id1416924562">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12199" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12201" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12199" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12201" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12199" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12201" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-572363265">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchase.html#id-996315300" shape="rect">CustomerProductListItemPurchase</a></p>
<p class="p subheading1" id="id152106871__id-1819225494">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12245" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12247" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12249" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12251" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12245" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12247" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12249" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer to retrieve the product list items for.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12251" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12245" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12247" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12249" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to retrieve.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12251" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12245" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12247" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12249" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12251" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12245" rowspan="1" style="text-align:left;vertical-align:top;">purchase_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12247" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12249" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item purchase to retrieve.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12251" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id-844468309">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12321" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12323" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemPurchaseNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12325" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">purchaseId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12327" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item purchase with the given purchase
 			   id is unknown for the site, customer, product list, and item.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id-547671687">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12404" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12406" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12404" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchase.beforeGET</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12406" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforeGET</strong>
      (customerId : <a class="xref" href="../../../../Documents/api/class_TopLevel_String.html" shape="rect" target="_blank">
          String
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before the request will be processed.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customerId - target customer id</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12404" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchase.modifyGETResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12406" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyGETResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productListItemPurchase : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItemPurchase.html" shape="rect" target="_blank">
          ProductListItemPurchase
        </a>, customerProductListItemPurchaseResponse : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productListItemPurchase - target product list item purchase</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseResponse - customer product list item purchase response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id-472524092">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
GET /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM/purchases/83bc7410d26508b6c7598f3c24 HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item_purchase",
   "id" : "dcdb9e4d1f930a2d3a32310ec5",
   "product_list_item_id" : "842ea014e952ded367c74a6c56",
   "purchaser_name" : "first last",
   "quantity" : 1.0
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>
<div class="section" id="id152106871__id-2134369524"><h2 class="title sectiontitle">Update a purchase of a customer product list item</h2>
      
      <p class="p"><!-- --></p>
Updates a purchase of an item from a customer's product list.
 Considered values from the request body are:
 <ul class="ul">
 <li class="li"><strong class="ph b">custom properties in the form c_&lt;CUSTOM_NAME&gt;</strong>: the custom property
 must correspond to a custom attribute (&lt;CUSTOM_NAME&gt;) defined for ProductListItemPurchase.
 The value of this property must be valid for the type of custom attribute defined for ProductListItemPurchase.</li>

 </ul>

      <p class="p subheading1" id="id152106871__id1988443875">Url</p>

      <pre class="pre codeblock" xml:space="preserve"><code>PATCH https://hostname:port/dw/shop/v23_2/customers/{customer_id}/product_lists/{list_id}/items/{item_id}/purchases/{purchase_id}</code></pre>
      <p class="p subheading1" id="id152106871__id69248720">Formats</p>
 <p class="p">json, xml</p>

      <p class="p subheading1" id="id152106871__id-152192892">Authentication</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12560" rowspan="1" style="text-align:left;vertical-align:top;">Name</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12562" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12560" rowspan="1" style="text-align:left;vertical-align:top;">JWT</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12562" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via Customer JWT.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12560" rowspan="1" style="text-align:left;vertical-align:top;">OAuth</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12562" rowspan="1" style="text-align:left;vertical-align:top;">Authentication via OAuth token. A valid user is required.</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id340919255">Request Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchase.html#id-996315300" shape="rect">CustomerProductListItemPurchase</a></p>
<p class="p subheading1" id="id152106871__id273614285">Response Document</p>
<p class="p"><a class="xref" href="../Documents/CustomerProductListItemPurchase.html#id-996315300" shape="rect">CustomerProductListItemPurchase</a></p>
<p class="p subheading1" id="id152106871__id1077740984">Path Parameters</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12616" rowspan="1" style="text-align:left;vertical-align:top;">Parameter</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12618" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12620" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12622" rowspan="1" style="text-align:left;vertical-align:top;">Constraints</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12616" rowspan="1" style="text-align:left;vertical-align:top;">customer_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12618" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12620" rowspan="1" style="text-align:left;vertical-align:top;">The id of the customer to retrieve the product list item purchases for.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12622" rowspan="1" style="text-align:left;vertical-align:top;">minLength=1</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12616" rowspan="1" style="text-align:left;vertical-align:top;">item_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12618" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12620" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item to retrieve.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12622" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12616" rowspan="1" style="text-align:left;vertical-align:top;">list_id</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12618" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12620" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list.</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12622" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12616" rowspan="1" style="text-align:left;vertical-align:top;">purchase_id</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12618" rowspan="1" style="text-align:left;vertical-align:top;">String</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12620" rowspan="1" style="text-align:left;vertical-align:top;">The id of the product list item purchase to retrieve.</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12622" rowspan="1" style="text-align:left;vertical-align:top;">mandatory=true, maxLength=28, minLength=1, nullable=false</td>
</tr>

          </tbody>
</table>
</div>
<p class="p">In case of a failure
          <a class="xref" href="../Documents/Fault.html#id1939230365" shape="rect">Fault</a> Document is returned.</p>
<p class="p subheading1" id="id152106871__id1097772189">Faults</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">Status</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;">Type</th>
<th class="entry nocellnorowborder" colspan="1" id="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;">Arguments</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Description</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">400</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">InvalidCustomerException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;"></td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customerId URL parameter does not match the verified customer
             represented by the JWT, not relevant when using OAuth.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">CustomerNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">customerId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the customer with the given customer id is unknown for the site.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">productListId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list with the given list id is unknown for the
             site and the customer.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemNotFoundException</code></td>
<td class="entry nocellnorowborder" colspan="1" headers="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">itemId (String)</p>
</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item with the given item id is unknown
             for the site, the customer and the product list.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12691" rowspan="1" style="text-align:left;vertical-align:top;">404</td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12693" rowspan="1" style="text-align:left;vertical-align:top;"><code class="ph codeph">ProductListItemPurchaseNotFoundException</code></td>
<td class="entry row-nocellborder" colspan="1" headers="d4169572e12695" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">purchaseId (String)</p>
</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12697" rowspan="1" style="text-align:left;vertical-align:top;">Indicates that the product list item purchase with the given purchase
 			   id is unknown for the site, customer, product list, and item.</td>
</tr>

          </tbody>
</table>
</div>
<p class="p subheading1" id="id152106871__id1618468935">Customization</p>
<p class="p">This Resource supports server-side customization.</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" rules="all" summary=""><colgroup span="1"><col span="1"/><col span="1"/></colgroup><thead class="thead" style="text-align:left;">
            <tr class="row">
              <th class="entry nocellnorowborder" colspan="1" id="d4169572e12774" rowspan="1" style="text-align:left;vertical-align:top;">Extension Point</th>
<th class="entry cell-norowborder" colspan="1" id="d4169572e12776" rowspan="1" style="text-align:left;vertical-align:top;">Method Detail</th>

            </tr>

          </thead>
<tbody class="tbody">
            <tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12774" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchase.beforePATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12776" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">beforePATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, purchase : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called before updating a purchase of a customer product list item.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">productListItem - the product list item</dd>
<dd class="dd pd ddexpand">purchase - the product list item purchase to update</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" colspan="1" headers="d4169572e12774" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchase.afterPATCH</td>
<td class="entry cell-norowborder" colspan="1" headers="d4169572e12776" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">afterPATCH</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, purchase : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p">The function is called after updating a purchase of a customer product list item.</p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - the customer</dd>
<dd class="dd pd ddexpand">productList - the product list</dd>
<dd class="dd pd ddexpand">productListItem - the product list item</dd>
<dd class="dd pd ddexpand">purchase - the updated purchase</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" colspan="1" headers="d4169572e12774" rowspan="1" style="text-align:left;vertical-align:top;">dw.ocapi.shop.customer.product_list.item.purchase.modifyPATCHResponse</td>
<td class="entry cellrowborder" colspan="1" headers="d4169572e12776" rowspan="1" style="text-align:left;vertical-align:top;"><p class="p">
      <strong class="ph b">modifyPATCHResponse</strong>
      (customer : <a class="xref" href="../../../../Documents/api/class_dw_customer_Customer.html" shape="rect" target="_blank">
          Customer
        </a>, productList : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductList.html" shape="rect" target="_blank">
          ProductList
        </a>, productListItem : <a class="xref" href="../../../../Documents/api/class_dw_customer_ProductListItem.html" shape="rect" target="_blank">
          ProductListItem
        </a>, customerProductListItemPurchaseResponse : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>, customerProductListItemPurchaseRequest : <a class="xref" href="../Documents/CustomerProductListItemPurchase.html" shape="rect">
          CustomerProductListItemPurchase
        </a>) :
      <a class="xref" href="../../../../Documents/api/class_dw_system_Status.html" shape="rect" target="_blank">
          Status
        </a>
    </p>
<p class="p"><!-- --></p>
<dl class="dl parml">
        
          <dt class="dt pt dlterm"><strong class="ph b">Parameters:</strong></dt>

          <dd class="dd pd">customer - target customer</dd>
<dd class="dd pd ddexpand">productList - target product list</dd>
<dd class="dd pd ddexpand">productListItem - target product list item</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseRequest - customer product list item purchase request object</dd>
<dd class="dd pd ddexpand">customerProductListItemPurchaseResponse - customer product list item purchase response object</dd>

        
        
          <dt class="dt pt dlterm"><strong class="ph b">Returns:</strong></dt>

          <dd class="dd pd">a non-null Status ends the hook execution</dd>

        
      </dl>
</td>
</tr>

          </tbody>
</table>
</div>

      <p class="p subheading1" id="id152106871__id1469716406">Sample</p>

      <div class="p"><pre class="pre codeblock" xml:space="preserve"><code>REQUEST:
PATCH /dw/shop/v23_2/customers/acE9xUWs5ea75qwTh0Svi2XfRY/product_lists/bcedkiWbxCM2MaaadkRhB2IBzM/purchases/83bc7410d26508b6c7598f3c24 HTTP/1.1
Host: example.com
Authorization: Bearer cd669706-3638-4dd1-a8b2-310ab900ca53
Content-Type: application/json

# in case of success:

RESPONSE:
HTTP/1.1 200 OK
Cache-Control: max-age=0,no-cache,no-store,must-revalidate
Content-Type: application/json;charset=UTF-8

{
   "_v" : "23.2",
   "_type" : "customer_product_list_item_purchase",
   "id" : "dcdb9e4d1f930a2d3a32310ec5",
   "product_list_item_id" : "842ea014e952ded367c74a6c56",
   "purchaser_name" : "first last",
   "quantity" : 1.0
}

# in case of validation failure - example response in case of an unknown customer:

RESPONSE:
HTTP/1.1 400 Bad Request
Cache-Control: no-cache,no-store,must-revalidate
Expires: Thu, 01-Jan-1970 00:00:00 GMT

{
   "_v" : "23.2",
   "fault" : 
   {
      "type" : "InvalidCustomerException",
      "message" : "Invalid customer."
   }
}</code></pre></div>

    </div>

      </div>

    <div><table class="copyright_table" width="100%"><tr><td align="left" colspan="1" rowspan="1"><p class="copyright_footer"> Copyright 2000-2023, Salesforce, Inc. All rights reserved. Various trademarks held by their respective owners.</p></td>
<td align="right" colspan="1" rowspan="1"><a href="#" id="bookmarklink" onclick="showLink();" shape="rect">Show URL</a><div id="bookmarkme" style="display:none"><!-- --></div></td>
<td align="right" colspan="1" rowspan="1"><a href="#" onclick="javascript:window.location='mailto:b2ccommercedocfeedback@salesforce.com?subject=' + document.title" shape="rect">Submit Feedback</a></td><td align="right" colspan="1" rowspan="1"><a href="https://www.salesforce.com/company/privacy/" shape="rect" target="_blank">Privacy Policy</a></td></tr>
</table></div><div id="ocapiDeprecationBanner"><a id="closeDeprecationBanner" onclick="closeDeprecationBanner()" shape="rect">X</a>
<b>OCAPI versions 15.x and 16.x will be retired on March 31, 2021. For dates and more information, see the <a href="https://documentation.b2c.commercecloud.salesforce.com/DOC2/topic/com.demandware.dochelp/OCAPI/current/usage/VersioningAndDeprecationPolicy.html" shape="rect" target="_blank">OCAPI versioning and deprecation policy</a> and this <a href="https://help.salesforce.com/articleView?id=000351399&amp;language=en_US&amp;type=1&amp;mode=1" shape="rect" target="_blank">Knowledge Article</a>.</b></div>
<div id="cookieConsent"><a id="closeCookieConsent" onclick="closeBanner()" shape="rect">X</a>
<b>Privacy Update:</b>    We use cookies to make interactions with our websites and services easy and meaningful, to better understand how they are used. By continuing to use this site you are giving us your consent to do this. <a href="https://www.salesforce.com/company/privacy/" shape="rect" target="_blank">Privacy Policy.</a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript" xml:space="preserve">
window.onload = function () {
	
	var ssFlag;
	var ocapiBannerElement =  document.getElementById('ocapiDeprecationBanner');
	
	// If we're not in the correct infocenter, don't bother going further.
	// Return immediately.
	if( location.hostname != "documentation.b2c.commercecloud.salesforce.com" ) {
		return;                                      
	}


	// Show the OCAPI deprecation banner for English
	if ( typeof(ocapiBannerElement) != 'undefined' ) {
		if ( ocapiBannerElement != null ) {
			ocapiBannerElement.style.display = "none";
		}
	}


	// If sessionStorage is supported, check if the sessionConsentFlag is true.
	// Return immediately if true.
	if(ssTest() === true){  
    	ssFlag = true;
    	if ( sessionStorage.getItem('sessionConsentFlag') == 'true' ) {
			return;                
		} 
	}	
	 
	// If localStorage isn't supported, return immediately.
	// If it is supported, check if the localConsentFlag is true.
	// Return immediately if true; othewise, display the banner and wait 
	// for the user's response.
	if(lsTest() === true){   
    	if ( localStorage.getItem('localConsentFlag') == 'true' ) {
			return;                
		}else{
			// Display the banner
			document.getElementById("cookieConsent").style.display = "none";
		} 
	}else{
    	return; 
	}

	return;
}

// Close the banner and set the flags.
function closeBanner() {
	document.getElementById("cookieConsent").style.display = "none";
	localStorage.setItem('localConsentFlag', 'true');
	if(ssFlag) {
		sessionStorage.setItem('sessionConsentFlag', 'true');
	}
	return;
}

// Close the deprecation banner.
function closeDeprecationBanner() {
	var ocapiBannerElem =  document.getElementById('ocapiDeprecationBanner');
	if ( typeof(ocapiBannerElem) != 'undefined' ) {
		if ( ocapiBannerElem != null ) {
			ocapiBannerElem.style.display = "none";
		}
	}
	return;
}

function lsTest(){
    var lcTest = 'test';
    try {
        localStorage.setItem(lcTest, lcTest);
        localStorage.removeItem(lcTest);
        return true;
    } catch(e) {
        return false;
    }
}

function ssTest(){
    var sstest = 'test';
    try {
        sessionStorage.setItem(sstest, sstest);
        sessionStorage.removeItem(sstest);
        return true;
    } catch(e) {
        return false;
    }
}
</script>
</body>


</html>